function cov_1smeme47kw(){var path="/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-client-logic/register-user.spec.js";var hash="b3f3eb48f89f9e12ab749fd8ed290f765eccb6b9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-client-logic/register-user.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:60},end:{line:3,column:67}},"2":{start:{line:5,column:21},end:{line:5,column:47}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:19},end:{line:7,column:34}},"5":{start:{line:8,column:0},end:{line:8,column:42}},"6":{start:{line:9,column:39},end:{line:9,column:63}},"7":{start:{line:10,column:15},end:{line:10,column:34}},"8":{start:{line:11,column:14},end:{line:11,column:26}},"9":{start:{line:12,column:0},end:{line:12,column:36}},"10":{start:{line:13,column:0},end:{line:13,column:35}},"11":{start:{line:16,column:0},end:{line:70,column:2}},"12":{start:{line:17,column:4},end:{line:17,column:47}},"13":{start:{line:17,column:17},end:{line:17,column:46}},"14":{start:{line:21,column:4},end:{line:28,column:6}},"15":{start:{line:22,column:8},end:{line:22,column:31}},"16":{start:{line:24,column:8},end:{line:24,column:33}},"17":{start:{line:25,column:8},end:{line:25,column:39}},"18":{start:{line:26,column:8},end:{line:26,column:40}},"19":{start:{line:27,column:8},end:{line:27,column:41}},"20":{start:{line:30,column:4},end:{line:48,column:6}},"21":{start:{line:31,column:23},end:{line:31,column:73}},"22":{start:{line:33,column:8},end:{line:33,column:38}},"23":{start:{line:35,column:22},end:{line:35,column:39}},"24":{start:{line:37,column:8},end:{line:37,column:40}},"25":{start:{line:39,column:23},end:{line:39,column:28}},"26":{start:{line:41,column:8},end:{line:41,column:40}},"27":{start:{line:42,column:8},end:{line:42,column:46}},"28":{start:{line:43,column:8},end:{line:43,column:42}},"29":{start:{line:45,column:22},end:{line:45,column:67}},"30":{start:{line:47,column:8},end:{line:47,column:32}},"31":{start:{line:50,column:4},end:{line:65,column:6}},"32":{start:{line:51,column:8},end:{line:51,column:73}},"33":{start:{line:51,column:25},end:{line:51,column:72}},"34":{start:{line:53,column:8},end:{line:64,column:10}},"35":{start:{line:54,column:12},end:{line:63,column:13}},"36":{start:{line:55,column:16},end:{line:55,column:66}},"37":{start:{line:57,column:16},end:{line:57,column:62}},"38":{start:{line:59,column:16},end:{line:59,column:38}},"39":{start:{line:61,column:16},end:{line:61,column:56}},"40":{start:{line:62,column:16},end:{line:62,column:90}},"41":{start:{line:67,column:4},end:{line:67,column:50}},"42":{start:{line:67,column:26},end:{line:67,column:49}},"43":{start:{line:69,column:4},end:{line:69,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:34},end:{line:16,column:35}},loc:{start:{line:16,column:40},end:{line:70,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:11},end:{line:17,column:12}},loc:{start:{line:17,column:17},end:{line:17,column:46}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:15},end:{line:21,column:16}},loc:{start:{line:21,column:27},end:{line:28,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:51},end:{line:48,column:5}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:50,column:41},end:{line:50,column:42}},loc:{start:{line:50,column:47},end:{line:65,column:5}},line:50},"5":{name:"(anonymous_5)",decl:{start:{line:51,column:19},end:{line:51,column:20}},loc:{start:{line:51,column:25},end:{line:51,column:72}},line:51},"6":{name:"(anonymous_6)",decl:{start:{line:53,column:65},end:{line:53,column:66}},loc:{start:{line:53,column:77},end:{line:64,column:9}},line:53},"7":{name:"(anonymous_7)",decl:{start:{line:67,column:14},end:{line:67,column:15}},loc:{start:{line:67,column:26},end:{line:67,column:49}},line:67}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b3f3eb48f89f9e12ab749fd8ed290f765eccb6b9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1smeme47kw=function(){return actualCoverage;};}return actualCoverage;}cov_1smeme47kw();cov_1smeme47kw().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL,API_URL}}=(cov_1smeme47kw().s[1]++,process);const registerUser=(cov_1smeme47kw().s[2]++,require('./register-user'));const{random}=(cov_1smeme47kw().s[3]++,Math);const{expect}=(cov_1smeme47kw().s[4]++,require('chai'));cov_1smeme47kw().s[5]++;require('coohappy-commons/polyfills/json');const{mongoose,models:{User}}=(cov_1smeme47kw().s[6]++,require('coohappy-data'));const bcrypt=(cov_1smeme47kw().s[7]++,require('bcryptjs'));const logic=(cov_1smeme47kw().s[8]++,require('.'));cov_1smeme47kw().s[9]++;global.fetch=require('node-fetch');cov_1smeme47kw().s[10]++;logic.__context__.API_URL=API_URL;cov_1smeme47kw().s[11]++;describe('logic - register user',()=>{cov_1smeme47kw().f[0]++;cov_1smeme47kw().s[12]++;before(()=>{cov_1smeme47kw().f[1]++;cov_1smeme47kw().s[13]++;return mongoose.connect(MONGODB_URL);});let name,surname,email,password;cov_1smeme47kw().s[14]++;beforeEach(async()=>{cov_1smeme47kw().f[2]++;cov_1smeme47kw().s[15]++;await User.deleteMany();cov_1smeme47kw().s[16]++;name=`name-${random()}`;cov_1smeme47kw().s[17]++;surname=`surname-${random()}`;cov_1smeme47kw().s[18]++;email=`e-${random()}@mail.com`;cov_1smeme47kw().s[19]++;password=`password-${random()}`;});cov_1smeme47kw().s[20]++;it('should succeed on valid data',async()=>{cov_1smeme47kw().f[3]++;const result=(cov_1smeme47kw().s[21]++,await registerUser(name,surname,email,password));cov_1smeme47kw().s[22]++;expect(result).to.be.undefined;const users=(cov_1smeme47kw().s[23]++,await User.find());cov_1smeme47kw().s[24]++;expect(users.length).to.equal(1);const[user]=(cov_1smeme47kw().s[25]++,users);cov_1smeme47kw().s[26]++;expect(user.name).to.equal(name);cov_1smeme47kw().s[27]++;expect(user.surname).to.equal(surname);cov_1smeme47kw().s[28]++;expect(user.email).to.equal(email);const match=(cov_1smeme47kw().s[29]++,await bcrypt.compare(password,user.password));cov_1smeme47kw().s[30]++;expect(match).to.be.true;});cov_1smeme47kw().s[31]++;describe('when user already exists',()=>{cov_1smeme47kw().f[4]++;cov_1smeme47kw().s[32]++;beforeEach(()=>{cov_1smeme47kw().f[5]++;cov_1smeme47kw().s[33]++;return User.create({name,surname,email,password});});cov_1smeme47kw().s[34]++;it('should fail on trying to register an existing user',async()=>{cov_1smeme47kw().f[6]++;cov_1smeme47kw().s[35]++;try{cov_1smeme47kw().s[36]++;await registerUser(name,surname,email,password);cov_1smeme47kw().s[37]++;throw new Error('should not reach this point');}catch(error){cov_1smeme47kw().s[38]++;expect(error).to.exist;cov_1smeme47kw().s[39]++;expect(error).to.be.an.instanceof(Error);cov_1smeme47kw().s[40]++;expect(error.message).to.equal(`User with e-mail ${email} already exists`);}});});cov_1smeme47kw().s[41]++;afterEach(async()=>{cov_1smeme47kw().f[7]++;cov_1smeme47kw().s[42]++;return await User.deleteMany();});cov_1smeme47kw().s[43]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLXVzZXIuc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsIk1PTkdPREJfVVJMIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJyZWdpc3RlclVzZXIiLCJyYW5kb20iLCJNYXRoIiwiZXhwZWN0IiwibW9uZ29vc2UiLCJtb2RlbHMiLCJVc2VyIiwiYmNyeXB0IiwibG9naWMiLCJnbG9iYWwiLCJmZXRjaCIsIl9fY29udGV4dF9fIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYmVmb3JlRWFjaCIsImRlbGV0ZU1hbnkiLCJpdCIsInJlc3VsdCIsInRvIiwiYmUiLCJ1bmRlZmluZWQiLCJ1c2VycyIsImZpbmQiLCJsZW5ndGgiLCJlcXVhbCIsInVzZXIiLCJtYXRjaCIsImNvbXBhcmUiLCJ0cnVlIiwiY3JlYXRlIiwiRXJyb3IiLCJlcnJvciIsImV4aXN0IiwiYW4iLCJpbnN0YW5jZW9mIiwibWVzc2FnZSIsImFmdGVyRWFjaCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6InltSkFlWTttSEFmWkEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FFQSxLQUFNLENBQUVDLEdBQUcsQ0FBRSxDQUFFQyxnQkFBZ0IsQ0FBRUMsV0FBcEIsQ0FBaUNDLE9BQWpDLENBQVAsMkJBQXNEQyxPQUF0RCxDQUFOLENBRUEsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBR1AsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBbEIsQ0FDQSxLQUFNLENBQUVRLE1BQUYsMkJBQWFDLElBQWIsQ0FBTixDQUNBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYVYsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDLHdCQUNBQSxPQUFPLENBQUMsaUNBQUQsQ0FBUCxDQUNBLEtBQU0sQ0FBRVcsUUFBRixDQUFZQyxNQUFNLENBQUUs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LEdBQUksMEJBQ0EsS0FBTXJCLENBQUFBLFlBQVksQ0FBQ2UsSUFBRCxDQUFPQyxPQUFQLENBQWdCQyxLQUFoQixDQUF1QkMsUUFBdkIsQ0FBbEIsQ0FEQSx5QkFHQSxLQUFNLElBQUlpQixDQUFBQSxLQUFKLENBQVUsNkJBQVYsQ0FBTixDQUNILENBQUMsTUFBT0MsS0FBUCxDQUFjLDBCQUNaakMsTUFBTSxDQUFDaUMsS0FBRCxDQUFOLENBQWNiLEVBQWQsQ0FBaUJjLEtBQWpCLENBRFkseUJBR1psQyxNQUFNLENBQUNpQyxLQUFELENBQU4sQ0FBY2IsRUFBZCxDQUFpQkMsRUFBakIsQ0FBb0JjLEVBQXBCLENBQXVCQyxVQUF2QixDQUFrQ0osS0FBbEMsRUFIWSx5QkFJWmhDLE1BQU0sQ0FBQ2lDLEtBQUssQ0FBQ0ksT0FBUCxDQUFOLENBQXNCakIsRUFBdEIsQ0FBeUJNLEtBQXpCLENBQWdDLG9CQUFtQlosS0FBTSxpQkFBekQsRUFDSCxDQUNKLENBWEMsQ0FBRixDQVlILENBZk8sQ0FBUixDQWxDb0MseUJBbURwQ3dCLFNBQVMsQ0FBQyxTQUFZLDhEQUFNbkMsQ0FBQUEsSUFBSSxDQUFDYyxVQUFMLEVBQU4sQ0FBdUIsQ0FBcEMsQ0FBVCxDQW5Eb0MseUJBcURwQ3NCLEtBQUssQ0FBQ3RDLFFBQVEsQ0FBQ3VDLFVBQVYsQ0FBTCxDQUNILENBdERPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxuXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMOiBNT05HT0RCX1VSTCwgQVBJX1VSTCB9IH0gPSBwcm9jZXNzXG5cbmNvbnN0IHJlZ2lzdGVyVXNlciA9IHJlcXVpcmUoJy4vcmVnaXN0ZXItdXNlcicpXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKVxucmVxdWlyZSgnY29vaGFwcHktY29tbW9ucy9wb2x5ZmlsbHMvanNvbicpXG5jb25zdCB7IG1vbmdvb3NlLCBtb2RlbHM6IHsgVXNlciB9IH0gPSByZXF1aXJlKCdjb29oYXBweS1kYXRhJylcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcbmNvbnN0IGxvZ2ljID0gcmVxdWlyZSgnLicpXG5nbG9iYWwuZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJylcbmxvZ2ljLl9fY29udGV4dF9fLkFQSV9VUkwgPSBBUElfVVJMXG5cblxuZGVzY3JpYmUoJ2xvZ2ljIC0gcmVnaXN0ZXIgdXNlcicsICgpID0+IHtcbiAgICBiZWZvcmUoKCkgPT4gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSTCkpXG5cbiAgICBsZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkXG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgVXNlci5kZWxldGVNYW55KClcblxuICAgICAgICBuYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZW1haWwgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgc3VjY2VlZCBvbiB2YWxpZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWdpc3RlclVzZXIobmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkKVxuXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvLmJlLnVuZGVmaW5lZFxuXG4gICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKClcblxuICAgICAgICBleHBlY3QodXNlcnMubGVuZ3RoKS50by5lcXVhbCgxKVxuXG4gICAgICAgIGNvbnN0IFt1c2VyXSA9IHVzZXJzXG5cbiAgICAgICAgZXhwZWN0KHVzZXIubmFtZSkudG8uZXF1YWwobmFtZSlcbiAgICAgICAgZXhwZWN0KHVzZXIuc3VybmFtZSkudG8uZXF1YWwoc3VybmFtZSlcbiAgICAgICAgZXhwZWN0KHVzZXIuZW1haWwpLnRvLmVxdWFsKGVtYWlsKVxuXG4gICAgICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG5cbiAgICAgICAgZXhwZWN0KG1hdGNoKS50by5iZS50cnVlXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIHVzZXIgYWxyZWFkeSBleGlzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4gVXNlci5jcmVhdGUoeyBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSkpXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIG9uIHRyeWluZyB0byByZWdpc3RlciBhbiBleGlzdGluZyB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZWdpc3RlclVzZXIobmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkKVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaG91bGQgbm90IHJlYWNoIHRoaXMgcG9pbnQnKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XG5cbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmJlLmFuLmluc3RhbmNlb2YoRXJyb3IpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGBVc2VyIHdpdGggZS1tYWlsICR7ZW1haWx9IGFscmVhZHkgZXhpc3RzYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IGF3YWl0IFVzZXIuZGVsZXRlTWFueSgpKVxuXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcbn0pIl19