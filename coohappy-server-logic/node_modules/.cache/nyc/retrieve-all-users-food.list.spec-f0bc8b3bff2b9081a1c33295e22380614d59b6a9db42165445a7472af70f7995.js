function cov_21rsn55688(){var path="/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/retrieve-all-users-food.list.spec.js";var hash="050111dbf1b98c5acd3e60f373ecf9ce024de246";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/retrieve-all-users-food.list.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:51},end:{line:3,column:58}},"2":{start:{line:5,column:19},end:{line:5,column:34}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:32},end:{line:7,column:72}},"5":{start:{line:8,column:15},end:{line:8,column:34}},"6":{start:{line:9,column:40},end:{line:9,column:67}},"7":{start:{line:10,column:21},end:{line:10,column:45}},"8":{start:{line:11,column:34},end:{line:11,column:61}},"9":{start:{line:12,column:64},end:{line:12,column:88}},"10":{start:{line:17,column:0},end:{line:116,column:2}},"11":{start:{line:19,column:4},end:{line:19,column:47}},"12":{start:{line:19,column:17},end:{line:19,column:46}},"13":{start:{line:21,column:4},end:{line:63,column:6}},"14":{start:{line:23,column:8},end:{line:23,column:31}},"15":{start:{line:24,column:8},end:{line:24,column:36}},"16":{start:{line:26,column:8},end:{line:26,column:33}},"17":{start:{line:27,column:8},end:{line:27,column:39}},"18":{start:{line:28,column:8},end:{line:28,column:40}},"19":{start:{line:29,column:8},end:{line:29,column:41}},"20":{start:{line:31,column:8},end:{line:31,column:34}},"21":{start:{line:32,column:8},end:{line:32,column:40}},"22":{start:{line:33,column:8},end:{line:33,column:41}},"23":{start:{line:34,column:8},end:{line:34,column:42}},"24":{start:{line:36,column:8},end:{line:36,column:42}},"25":{start:{line:37,column:8},end:{line:37,column:37}},"26":{start:{line:38,column:8},end:{line:38,column:25}},"27":{start:{line:39,column:8},end:{line:39,column:33}},"28":{start:{line:40,column:8},end:{line:40,column:43}},"29":{start:{line:41,column:8},end:{line:41,column:22}},"30":{start:{line:43,column:8},end:{line:43,column:43}},"31":{start:{line:44,column:8},end:{line:44,column:38}},"32":{start:{line:45,column:8},end:{line:45,column:26}},"33":{start:{line:46,column:8},end:{line:46,column:34}},"34":{start:{line:47,column:8},end:{line:47,column:44}},"35":{start:{line:49,column:8},end:{line:49,column:38}},"36":{start:{line:50,column:8},end:{line:50,column:40}},"37":{start:{line:53,column:8},end:{line:53,column:46}},"38":{start:{line:54,column:8},end:{line:54,column:47}},"39":{start:{line:55,column:21},end:{line:55,column:80}},"40":{start:{line:56,column:8},end:{line:56,column:24}},"41":{start:{line:57,column:22},end:{line:57,column:46}},"42":{start:{line:58,column:26},end:{line:58,column:141}},"43":{start:{line:60,column:8},end:{line:60,column:62}},"44":{start:{line:61,column:8},end:{line:61,column:64}},"45":{start:{line:62,column:8},end:{line:62,column:30}},"46":{start:{line:65,column:4},end:{line:78,column:6}},"47":{start:{line:67,column:8},end:{line:77,column:10}},"48":{start:{line:69,column:25},end:{line:69,column:62}},"49":{start:{line:71,column:12},end:{line:71,column:42}},"50":{start:{line:72,column:12},end:{line:72,column:60}},"51":{start:{line:73,column:12},end:{line:73,column:55}},"52":{start:{line:75,column:12},end:{line:75,column:62}},"53":{start:{line:76,column:12},end:{line:76,column:55}},"54":{start:{line:81,column:4},end:{line:99,column:6}},"55":{start:{line:83,column:22},end:{line:83,column:49}},"56":{start:{line:84,column:8},end:{line:88,column:10}},"57":{start:{line:85,column:12},end:{line:85,column:104}},"58":{start:{line:86,column:12},end:{line:86,column:30}},"59":{start:{line:87,column:12},end:{line:87,column:146}},"60":{start:{line:89,column:8},end:{line:98,column:10}},"61":{start:{line:90,column:12},end:{line:97,column:13}},"62":{start:{line:92,column:16},end:{line:92,column:54}},"63":{start:{line:95,column:16},end:{line:95,column:38}},"64":{start:{line:96,column:16},end:{line:96,column:61}},"65":{start:{line:102,column:4},end:{line:109,column:6}},"66":{start:{line:104,column:8},end:{line:108,column:10}},"67":{start:{line:106,column:12},end:{line:106,column:101}},"68":{start:{line:106,column:25},end:{line:106,column:52}},"69":{start:{line:107,column:12},end:{line:107,column:93}},"70":{start:{line:107,column:25},end:{line:107,column:51}},"71":{start:{line:112,column:4},end:{line:112,column:38}},"72":{start:{line:112,column:20},end:{line:112,column:37}},"73":{start:{line:114,column:4},end:{line:114,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:48},end:{line:17,column:49}},loc:{start:{line:17,column:54},end:{line:116,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:11},end:{line:19,column:12}},loc:{start:{line:19,column:17},end:{line:19,column:46}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:15},end:{line:21,column:16}},loc:{start:{line:21,column:27},end:{line:63,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:65,column:43},end:{line:65,column:44}},loc:{start:{line:65,column:49},end:{line:78,column:5}},line:65},"4":{name:"(anonymous_4)",decl:{start:{line:67,column:41},end:{line:67,column:42}},loc:{start:{line:67,column:53},end:{line:77,column:9}},line:67},"5":{name:"(anonymous_5)",decl:{start:{line:81,column:46},end:{line:81,column:47}},loc:{start:{line:81,column:52},end:{line:99,column:5}},line:81},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:19},end:{line:84,column:20}},loc:{start:{line:84,column:31},end:{line:88,column:9}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:89,column:38},end:{line:89,column:39}},loc:{start:{line:89,column:50},end:{line:98,column:9}},line:89},"8":{name:"(anonymous_8)",decl:{start:{line:102,column:28},end:{line:102,column:29}},loc:{start:{line:102,column:34},end:{line:109,column:5}},line:102},"9":{name:"(anonymous_9)",decl:{start:{line:104,column:36},end:{line:104,column:37}},loc:{start:{line:104,column:42},end:{line:108,column:9}},line:104},"10":{name:"(anonymous_10)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:25},end:{line:106,column:52}},line:106},"11":{name:"(anonymous_11)",decl:{start:{line:107,column:19},end:{line:107,column:20}},loc:{start:{line:107,column:25},end:{line:107,column:51}},line:107},"12":{name:"(anonymous_12)",decl:{start:{line:112,column:14},end:{line:112,column:15}},loc:{start:{line:112,column:20},end:{line:112,column:37}},line:112}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"050111dbf1b98c5acd3e60f373ecf9ce024de246"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_21rsn55688=function(){return actualCoverage;};}return actualCoverage;}cov_21rsn55688();cov_21rsn55688().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL}}=(cov_21rsn55688().s[1]++,process);const{expect}=(cov_21rsn55688().s[2]++,require('chai'));const{random}=(cov_21rsn55688().s[3]++,Math);const retrieveAllUserFoodList=(cov_21rsn55688().s[4]++,require('./retrieve-allUsers-food-list'));const bcrypt=(cov_21rsn55688().s[5]++,require('bcryptjs'));const{utils:{randomAccessCode}}=(cov_21rsn55688().s[6]++,require('coohappy-commons'));const{mongoose}=(cov_21rsn55688().s[7]++,require('coohappy-data'));const{errors:{VoidError}}=(cov_21rsn55688().s[8]++,require('coohappy-commons'));const{models:{User,Cohousing},mongoose:{ObjectId}}=(cov_21rsn55688().s[9]++,require('coohappy-data'));let name,surname,email,password,hash,userId,nameCohousing,street,number,city,accessCode,message,date,foodItem,foodItem_2,_name,_surname,_email,_password,_hash,_nameCohousing,_street,_number,_city,_accessCode,laundryNum;cov_21rsn55688().s[10]++;describe('logic - retrieve-all-user-food-list',()=>{cov_21rsn55688().f[0]++;cov_21rsn55688().s[11]++;before(()=>{cov_21rsn55688().f[1]++;cov_21rsn55688().s[12]++;return mongoose.connect(MONGODB_URL);});cov_21rsn55688().s[13]++;beforeEach(async()=>{cov_21rsn55688().f[2]++;cov_21rsn55688().s[14]++;await User.deleteMany();cov_21rsn55688().s[15]++;await Cohousing.deleteMany();cov_21rsn55688().s[16]++;name=`name-${random()}`;cov_21rsn55688().s[17]++;surname=`surname-${random()}`;cov_21rsn55688().s[18]++;email=`e-${random()}@mail.com`;cov_21rsn55688().s[19]++;password=`password-${random()}`;cov_21rsn55688().s[20]++;_name=`name-${random()}`;cov_21rsn55688().s[21]++;_surname=`surname-${random()}`;cov_21rsn55688().s[22]++;_email=`e-${random()}@mail.com`;cov_21rsn55688().s[23]++;_password=`password-${random()}`;cov_21rsn55688().s[24]++;nameCohousing=`name-${random()}`;cov_21rsn55688().s[25]++;street=`street-${random()}`;cov_21rsn55688().s[26]++;number=random();cov_21rsn55688().s[27]++;city=`city-${random()}`;cov_21rsn55688().s[28]++;accessCode=randomAccessCode(name);cov_21rsn55688().s[29]++;laundryNum=4;cov_21rsn55688().s[30]++;_nameCohousing=`name-${random()}`;cov_21rsn55688().s[31]++;_street=`street-${random()}`;cov_21rsn55688().s[32]++;_number=random();cov_21rsn55688().s[33]++;_city=`city-${random()}`;cov_21rsn55688().s[34]++;_accessCode=randomAccessCode(name);cov_21rsn55688().s[35]++;foodItem=`fruit-${random()}`;cov_21rsn55688().s[36]++;foodItem_2=`fruit-${random()}`;cov_21rsn55688().s[37]++;hash=await bcrypt.hash(password,10);cov_21rsn55688().s[38]++;_hash=await bcrypt.hash(password,10);const user=(cov_21rsn55688().s[39]++,await User.create({name,surname,email,password:hash}));cov_21rsn55688().s[40]++;userId=user.id;let address=(cov_21rsn55688().s[41]++,{street,number,city});const cohousing=(cov_21rsn55688().s[42]++,await Cohousing.create({name:nameCohousing,address,author:userId,accessCode,members:[userId],laundryNum}));cov_21rsn55688().s[43]++;cohousing.foodList.push({name:foodItem,weight:2});cov_21rsn55688().s[44]++;cohousing.foodList.push({name:foodItem_2,weight:1});cov_21rsn55688().s[45]++;await cohousing.save();});cov_21rsn55688().s[46]++;describe('when cohousing have a list',()=>{cov_21rsn55688().f[3]++;cov_21rsn55688().s[47]++;it('should show user list food',async()=>{cov_21rsn55688().f[4]++;const list=(cov_21rsn55688().s[48]++,await retrieveAllUserFoodList(userId));cov_21rsn55688().s[49]++;expect(list.foodList).to.exist;cov_21rsn55688().s[50]++;expect(list.foodList[0].name).to.equal(foodItem);cov_21rsn55688().s[51]++;expect(list.foodList[0].weight).to.equal(2);cov_21rsn55688().s[52]++;expect(list.foodList[1].name).to.equal(foodItem_2);cov_21rsn55688().s[53]++;expect(list.foodList[1].weight).to.equal(1);});});cov_21rsn55688().s[54]++;describe('when cohousing has not a list',()=>{cov_21rsn55688().f[5]++;let _user,_userId;let address=(cov_21rsn55688().s[55]++,{_street,_number,_city});cov_21rsn55688().s[56]++;beforeEach(async()=>{cov_21rsn55688().f[6]++;cov_21rsn55688().s[57]++;_user=await User.create({name:_name,surname:_surname,email:_email,password:_hash});cov_21rsn55688().s[58]++;_userId=_user.id;cov_21rsn55688().s[59]++;await Cohousing.create({name:_nameCohousing,address,author:_userId,accessCode:_accessCode,members:[_userId],laundryNum:4});});cov_21rsn55688().s[60]++;it('should not show nothing',async()=>{cov_21rsn55688().f[7]++;cov_21rsn55688().s[61]++;try{cov_21rsn55688().s[62]++;await retrieveAllUserFoodList(_userId);}catch(error){cov_21rsn55688().s[63]++;expect(error).to.exist;cov_21rsn55688().s[64]++;expect(error.message).to.equal(`no list yet`);}});});cov_21rsn55688().s[65]++;describe('sync errors',()=>{cov_21rsn55688().f[8]++;cov_21rsn55688().s[66]++;it('on wrong type of data',()=>{cov_21rsn55688().f[9]++;cov_21rsn55688().s[67]++;expect(()=>{cov_21rsn55688().f[10]++;cov_21rsn55688().s[68]++;return retrieveAllUserFoodList('');}).to.throw(VoidError,'string is empty or blank');cov_21rsn55688().s[69]++;expect(()=>{cov_21rsn55688().f[11]++;cov_21rsn55688().s[70]++;return retrieveAllUserFoodList(2);}).to.throw(TypeError,'2 is not a string');});});cov_21rsn55688().s[71]++;afterEach(()=>{cov_21rsn55688().f[12]++;cov_21rsn55688().s[72]++;return User.deleteMany();});cov_21rsn55688().s[73]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLWFsbC11c2Vycy1mb29kLmxpc3Quc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsIk1PTkdPREJfVVJMIiwicHJvY2VzcyIsImV4cGVjdCIsInJhbmRvbSIsIk1hdGgiLCJyZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCIsImJjcnlwdCIsInV0aWxzIiwicmFuZG9tQWNjZXNzQ29kZSIsIm1vbmdvb3NlIiwiZXJyb3JzIiwiVm9pZEVycm9yIiwibW9kZWxzIiwiVXNlciIsIkNvaG91c2luZyIsIk9iamVjdElkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaGFzaCIsInVzZXJJZCIsIm5hbWVDb2hvdXNpbmciLCJzdHJlZXQiLCJudW1iZXIiLCJjaXR5IiwiYWNjZXNzQ29kZSIsIm1lc3NhZ2UiLCJkYXRlIiwiZm9vZEl0ZW0iLCJmb29kSXRlbV8yIiwiX25hbWUiLCJfc3VybmFtZSIsIl9lbWFpbCIsIl9wYXNzd29yZCIsIl9oYXNoIiwiX25hbWVDb2hvdXNpbmciLCJfc3RyZWV0IiwiX251bWJlciIsIl9jaXR5IiwiX2FjY2Vzc0NvZGUiLCJsYXVuZHJ5TnVtIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwiYmVmb3JlRWFjaCIsImRlbGV0ZU1hbnkiLCJ1c2VyIiwiY3JlYXRlIiwiaWQiLCJhZGRyZXNzIiwiY29ob3VzaW5nIiwiYXV0aG9yIiwibWVtYmVycyIsImZvb2RMaXN0IiwicHVzaCIsIndlaWdodCIsInNhdmUiLCJpdCIsImxpc3QiLCJ0byIsImV4aXN0IiwiZXF1YWwiLCJfdXNlciIsIl91c2VySWQiLCJlcnJvciIsInRocm93IiwiVHlwZUVycm9yIiwiYWZ0ZXJFYWNoIiwiYWZ0ZXIiLCJkaXNjb25uZWN0Il0sIm1hcHBpbmdzIjoiNHlPQWVZO21IQWZaQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHQUVBLEtBQU0sQ0FBRUMsR0FBRyxDQUFFLENBQUVDLGdCQUFnQixDQUFFQyxXQUFwQixDQUFQLDJCQUE2Q0MsT0FBN0MsQ0FBTixDQUVBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYU4sT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBRU8sTUFBRiwyQkFBYUMsSUFBYixDQUFOLENBQ0EsS0FBTUMsQ0FBQUEsdUJBQXVCLDBCQUFHVCxPQUFPLENBQUMsK0JBQUQsQ0FBVixDQUE3QixDQUNBLEtBQU1VLENBQUFBLE1BQU0sMEJBQUdWLE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBWixDQUNBLEtBQU0sQ0FBRVcsS0FBSyxDQUFFLENBQUVDLGdCQUFGLENBQVQsMkJBQWtDWixPQUFPLENBQUMsa0JBQUQsQ0FBekMsQ0FBTixDQUNBLEtBQU0sQ0FBRWEsUUFBRiwyQkFBZWIsT0FBTyxDQUFDLGVBQUQsQ0FBdEIsQ0FBTixDQUNBLEtBQU0sQ0FBRWMsTUFBTSxDQUFFLENBQUVDLFNBQUYsQ0FBViwyQkFBNEJmLE9BQU8sQ0FBQyxrQkFBRCxDQUFuQyxDQUFOLENBQ0EsS0FBTSxDQUFFZ0IsTUFBTSxDQUFFLENBQUVDLElBQUYsQ0FBUUMsU0FBUixDQUFWLENBQStCTCxRQUFRLENBQUUsQ0FBRU0sUUFBRixDQUF6QywyQkFBMERuQixPQUFPLENBQUMsZUFBRCxDQUFqRSxDQUFOLENBRUEsR0FBSW9CLENBQUFBLElBQUosQ0FBVUMsT0FBVixDQUFtQkMsS0FBbkIsQ0FBMEJDLFFBQTFCLENBQW9DQyxJQUFwQyxDQUEwQ0MsTUFBMUMsQ0FBa0RDLGFBQWxELENBQWlFQyxNQUFqRSxDQUF5RUMsTUFBekUsQ0FBaUZDLElBQWpGLENBQXVGQyxVQUF2RixDQUFtR0MsT0FBbkcsQ0FBNEdDLElBQTVHLENBQ0FDLFFBREEsQ0FDVUMsVUFEVixDQUNzQkMsS0FEdEIsQ0FDNkJDLFFBRDdCLENBQ3VDQyxNQUR2QyxDQUMrQ0MsU0FEL0MsQ0FDMERDLEtBRDFELENBQ2lFQyxjQURqRSxDQUNpRkMsT0FEakYsQ0FDMEZDLE9BRDFGLENBQ21HQyxLQURuRyxDQUMwR0MsV0FEMUcsQ0FDdUhDLFVBRHZILEMseUJBR0FDLFFBQVEsQ0FBQyxxQ0FBRCxDQUF3QyxJQUFNLGtEQUVsREMsTUFBTSxDQUFDLElBQU0sd0RBQUFsQyxDQUFBQSxRQUFRLENBQUNtQyxPQUFULENBQWlCNUMsV0FBakIsRUFBNkIsQ0FBcEMsQ0FBTixDQUZrRCx5QkFJbEQ2QyxVQUFVLENBQUMsU0FBWSxrREFFbkIsS0FBTWhDLENBQUFBLElBQUksQ0FBQ2lDLFVBQUwsRUFBTixDQUZtQix5QkFHbkIsS0FBTWhDLENBQUFBLFNBQVMsQ0FBQ2dDLFVBQVYsRUFBTixDQUhtQix5QkFLbkI5QixJQUFJLENBQUksUUFBT2IsTUFBTSxFQUFHLEVBQXhCLENBTG1CLHlCQU1uQmMsT0FBTyxDQUFJLFdBQVVkLE1BQU0sRUFBRyxFQUE5QixDQU5tQix5QkFPbkJlLEtBQUssQ0FBSSxLQUFJZixNQUFNLEVBQUcsV0FBdEIsQ0FQbUIseUJBUW5CZ0IsUUFBUSxDQUFJLFlBQVdoQixNQUFNLEVBQUcsRUFBaEMsQ0FSbUIseUJBVW5CNEIsS0FBSyxDQUFJLFFBQU81QixNQUFNLEVBQUcsRUFBekIsQ0FWbUIseUJBV25CNkIsUUFBUSxDQUFJLFdBQVU3QixNQUFNLEVBQUcsRUFBL0IsQ0FYbUIseUJBWW5COEIsTUFBTSxDQUFJLEtBQUk5QixNQUFNLEVBQUcsV0FBdkIsQ0FabUIseUJBYW5CK0IsU0FBUyxDQUFJLFlBQVcvQixNQUFNLEVBQUcsRUFBakMsQ0FibUIseUJBZW5CbUIsYUFBYSxDQUFJLFFBQU9uQixNQUFNLEVBQUcsRUFBakMsQ0FmbUIseUJBZ0JuQm9CLE1BQU0sQ0FBSSxVQUFTcEIsTUFBTSxFQUFHLEVBQTVCLENBaEJtQix5QkFpQm5CcUIsTUFBTSxDQUFHckIsTUFBTSxFQUFmLENBakJtQix5QkFrQm5Cc0IsSUFBSSxDQUFJLFFBQU90QixNQUFNLEVBQUcsRUFBeEIsQ0FsQm1CLHlCQW1CbkJ1QixVQUFVLENBQUdsQixnQkFBZ0IsQ0FBQ1EsSUFBRCxDQUE3QixDQW5CbUIseUJBb0JuQnlCLFVBQVUsQ0FBRyxDQUFiLENBcEJtQix5QkFzQm5CTCxjQUFjLENBQUksUUFBT2pDLE1BQU0sRUFBRyxFQUFsQyxDQXRCbUIseUJBdUJuQmtDLE9BQU8sQ0FBSSxVQUFTbEMsTUFBTSxFQUFHLEVBQTdCLENBdkJtQix5QkF3Qm5CbUMsT0FBTyxDQUFHbkMsTUFBTSxFQUFoQixDQXhCbUIseUJBeUJuQm9DLEtBQUssQ0FBSSxRQUFPcEMsTUFBTSxFQUFHLEVBQXpCLENBekJtQix5QkEwQm5CcUMsV0FBVyxDQUFHaEMsZ0JBQWdCLENBQUNRLElBQUQsQ0FBOUIsQ0ExQm1CLHlCQTRCbkJhLFFBQVEsQ0FBSSxTQUFRMUIsTUFBTSxFQUFHLEVBQTdCLENBNUJtQix5QkE2Qm5CMkIsVUFBVSxDQUFJLFNBQVEzQixNQUFNLEVBQUcsRUFBL0IsQ0E3Qm1CLHlCQWdDbkJpQixJQUFJLENBQUcsS0FBTWQsQ0FBQUEsTUFBTSxDQUFDYyxJQUFQLENBQVlELFFBQVosQ0FBc0IsRUFBdEIsQ0FBYixDQWhDbUIseUJBaUNuQmdCLEtBQUssQ0FBRyxLQUFNN0IsQ0FBQUEsTUFBTSxDQUFDYyxJQUFQLENBQVlELFFBQVosQ0FBc0IsRUFBdEIsQ0FBZCxDQUNBLEtBQU00QixDQUFBQSxJQUFJLDJCQUFHLEtBQU1sQyxDQUFBQSxJQUFJLENBQUNtQyxNQUFMLENBQVksQ0FBRWhDLElBQUYsQ0FBUUMsT0FBUixDQUFpQkMsS0FBakIsQ0FBd0JDLFFBQVEsQ0FBRUMsSUFBbEMsQ0FBWixDQUFULENBQVYsQ0FsQ21CLHlCQW1DbkJDLE1BQU0sQ0FBRzBCLElBQUksQ0FBQ0UsRUFBZCxDQUNBLEdBQUlDLENBQUFBLE9BQU8sMkJBQUcsQ0FBRTNCLE1BQUYsQ0FBVUMsTUFBVixDQUFrQkMsSUFBbEIsQ0FBSCxDQUFYLENBQ0EsS0FBTTBCLENBQUFBLFNBQVMsMkJBQUcsS0FBTXJDLENBQUFBLFNBQVMsQ0FBQ2tDLE1BQVYsQ0FBaUIsQ0FBRWhDLElBQUksQ0FBRU0sYUFBUixDQUF1QjRCLE9BQXZCLENBQWdDRSxNQUFNLENBQUUvQixNQUF4QyxDQUFnREssVUFBaEQsQ0FBNEQyQixPQUFPLENBQUUsQ0FBQ2hDLE1BQUQsQ0FBckUsQ0FBK0VvQixVQUEvRSxDQUFqQixDQUFULENBQWYsQ0FyQ21CLHlCQXVDbkJVLFNBQVMsQ0FBQ0csUUFBVixDQUFtQkMsSUFBbkIsQ0FBd0IsQ0FBRXZDLElBQUksQ0FBRWEsUUFBUixDQUFrQjJCLE1BQU0sQ0FBRSxDQUExQixDQUF4QixFQXZDbUIseUJBd0NuQkwsU0FBUyxDQUFDRyxRQUFWLENBQW1CQyxJQUFuQixDQUF3QixDQUFFdkMsSUFBSSxDQUFFYyxVQUFSLENBQW9CMEIsTUFBTSxDQUFFLENBQTVCLENBQXhCLEVBeENtQix5QkF5Q25CLEtBQU1MLENBQUFBLFNBQVMsQ0FBQ00sSUFBVixFQUFOLENBQ0gsQ0ExQ1MsQ0FBVixDQUprRCx5QkFnRGxEZixRQUFRLENBQUMsNEJBQUQsQ0FBK0IsSUFBTSxrREFFekNnQixFQUFFLENBQUMsNEJBQUQsQ0FBK0IsU0FBWSx5QkFFekMsS0FBTUMsQ0FBQUEsSUFBSSwyQkFBRyxLQUFNdEQsQ0FBQUEsdUJBQXVCLENBQUNnQixNQUFELENBQWhDLENBQVYsQ0FGeUMseUJBSXpDbkIsTUFBTSxDQUFDeUQsSUFBSSxDQUFDTCxRQUFOLENBQU4sQ0FBc0JNLEVBQXRCLENBQXlCQyxLQUF6QixDQUp5Qyx5QkFLekMzRCxNQUFNLENBQUN5RCxJQUFJLENBQUNMLFFBQUwsQ0FBYyxDQUFkLEVBQWlCdEMsSUFBbEIsQ0FBTixDQUE4QjRDLEVBQTlCLENBQWlDRSxLQUFqQyxDQUF1Q2pDLFFBQXZDLEVBTHlDLHlCQU16QzNCLE1BQU0sQ0FBQ3lELElBQUksQ0FBQ0wsUUFBTCxDQUFjLENBQWQsRUFBaUJFLE1BQWxCLENBQU4sQ0FBZ0NJLEVBQWhDLENBQW1DRSxLQUFuQyxDQUF5QyxDQUF6QyxFQU55Qyx5QkFRekM1RCxNQUFNLENBQUN5RCxJQUFJLENBQUNMLFFBQUwsQ0FBYyxDQUFkLEVBQWlCdEMsSUFBbEIsQ0FBTixDQUE4QjRDLEVBQTlCLENBQWlDRSxLQUFqQyxDQUF1Q2hDLFVBQXZDLEVBUnlDLHlCQVN6QzVCLE1BQU0sQ0FBQ3lELElBQUksQ0FBQ0wsUUFBTCxDQUFjLENBQWQsRUFBaUJFLE1BQWxCLENBQU4sQ0FBZ0NJLEVBQWhDLENBQW1DRSxLQUFuQyxDQUF5QyxDQUF6QyxFQUNILENBVkMsQ0FBRixDQVdILENBYk8sQ0FBUixDQWhEa0QseUJBZ0VsRHBCLFFBQVEsQ0FBQywrQkFBRCxDQUFrQyxJQUFNLHlCQUM1QyxHQUFJcUIsQ0FBQUEsS0FBSixDQUFXQyxPQUFYLENBQ0EsR0FBSWQsQ0FBQUEsT0FBTywyQkFBRyxDQUFFYixPQUFGLENBQVdDLE9BQVgsQ0FBb0JDLEtBQXBCLENBQUgsQ0FBWCxDQUY0Qyx5QkFHNUNNLFVBQVUsQ0FBQyxTQUFZLGtEQUNuQmtCLEtBQUssQ0FBRyxLQUFNbEQsQ0FBQUEsSUFBSSxDQUFDbUMsTUFBTCxDQUFZLENBQUNoQyxJQUFJLENBQUVlLEtBQVAsQ0FBYWQsT0FBTyxDQUFHZSxRQUF2QixDQUFpQ2QsS0FBSyxDQUFFZSxNQUF4QyxDQUFnRGQsUUFBUSxDQUFFZ0IsS0FBMUQsQ0FBWixDQUFkLENBRG1CLHlCQUVuQjZCLE9BQU8sQ0FBR0QsS0FBSyxDQUFDZCxFQUFoQixDQUZtQix5QkFHbkIsS0FBTW5DLENBQUFBLFNBQVMsQ0FBQ2tDLE1BQVYsQ0FBaUIsQ0FBRWhDLElBQUksQ0FBRW9CLGNBQVIsQ0FBd0JjLE9BQXhCLENBQWlDRSxNQUFNLENBQUVZLE9BQXpDLENBQWtEdEMsVUFBVSxDQUFFYyxXQUE5RCxDQUEyRWEsT0FBTyxDQUFFLENBQUNXLE9BQUQsQ0FBcEYsQ0FBK0Z2QixVQUFVLENBQUUsQ0FBM0csQ0FBakIsQ0FBTixDQUNILENBSlMsQ0FBVixDQUg0Qyx5QkFRNUNpQixFQUFFLENBQUMseUJBQUQsQ0FBNEIsU0FBWSxrREFDdEMsR0FBSSwwQkFFQSxLQUFNckQsQ0FBQUEsdUJBQXVCLENBQUMyRCxPQUFELENBQTdCLENBRUgsQ0FBQyxNQUFPQyxLQUFQLENBQWMsMEJBQ1ovRCxNQUFNLENBQUMrRCxLQUFELENBQU4sQ0FBY0wsRUFBZCxDQUFpQkMsS0FBakIsQ0FEWSx5QkFFWjNELE1BQU0sQ0FBQytELEtBQUssQ0FBQ3RDLE9BQVAsQ0FBTixDQUFzQmlDLEVBQXRCLENBQXlCRSxLQUF6QixDQUFnQyxhQUFoQyxFQUNILENBQ0osQ0FUQyxDQUFGLENBVUgsQ0FsQk8sQ0FBUixDQWhFa0QseUJBcUZsRHBCLFFBQVEsQ0FBQyxhQUFELENBQWdCLElBQU0sa0RBRTFCZ0IsRUFBRSxDQUFDLHVCQUFELENBQTBCLElBQU0sa0RBRTlCeEQsTUFBTSxDQUFDLElBQU0seURBQUFHLENBQUFBLHVCQUF1QixDQUFDLEVBQUQsQ0FBdkIsQ0FBMkIsQ0FBbEMsQ0FBTixDQUEwQ3VELEVBQTFDLENBQTZDTSxLQUE3QyxDQUFtRHZELFNBQW5ELENBQThELDBCQUE5RCxFQUY4Qix5QkFHOUJULE1BQU0sQ0FBQyxJQUFNLHlEQUFBRyxDQUFBQSx1QkFBdUIsQ0FBQyxDQUFELENBQXZCLENBQTBCLENBQWpDLENBQU4sQ0FBeUN1RCxFQUF6QyxDQUE0Q00sS0FBNUMsQ0FBa0RDLFNBQWxELENBQTZELG1CQUE3RCxFQUNILENBSkMsQ0FBRixDQUtILENBUE8sQ0FBUixDQXJGa0QseUJBK0ZsREMsU0FBUyxDQUFDLElBQU0seURBQUF2RCxDQUFBQSxJQUFJLENBQUNpQyxVQUFMLEdBQWlCLENBQXhCLENBQVQsQ0EvRmtELHlCQWlHbER1QixLQUFLLENBQUM1RCxRQUFRLENBQUM2RCxVQUFWLENBQUwsQ0FFSCxDQW5HTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTDogTU9OR09EQl9VUkwgfSB9ID0gcHJvY2Vzc1xuXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxuY29uc3QgcmV0cmlldmVBbGxVc2VyRm9vZExpc3QgPSByZXF1aXJlKCcuL3JldHJpZXZlLWFsbFVzZXJzLWZvb2QtbGlzdCcpXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpXG5jb25zdCB7IHV0aWxzOiB7IHJhbmRvbUFjY2Vzc0NvZGUgfSB9ID0gcmVxdWlyZSgnY29vaGFwcHktY29tbW9ucycpXG5jb25zdCB7IG1vbmdvb3NlIH0gPSByZXF1aXJlKCdjb29oYXBweS1kYXRhJylcbmNvbnN0IHsgZXJyb3JzOiB7IFZvaWRFcnJvciB9IH0gPSByZXF1aXJlKCdjb29oYXBweS1jb21tb25zJylcbmNvbnN0IHsgbW9kZWxzOiB7IFVzZXIsIENvaG91c2luZyB9LCBtb25nb29zZTogeyBPYmplY3RJZCB9IH0gPSByZXF1aXJlKCdjb29oYXBweS1kYXRhJylcblxubGV0IG5hbWUsIHN1cm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgaGFzaCwgdXNlcklkLCBuYW1lQ29ob3VzaW5nLCBzdHJlZXQsIG51bWJlciwgY2l0eSwgYWNjZXNzQ29kZSwgbWVzc2FnZSwgZGF0ZSwgXG5mb29kSXRlbSwgZm9vZEl0ZW1fMiwgX25hbWUsIF9zdXJuYW1lLCBfZW1haWwsIF9wYXNzd29yZCwgX2hhc2gsIF9uYW1lQ29ob3VzaW5nLCBfc3RyZWV0LCBfbnVtYmVyLCBfY2l0eSwgX2FjY2Vzc0NvZGUsIGxhdW5kcnlOdW1cblxuZGVzY3JpYmUoJ2xvZ2ljIC0gcmV0cmlldmUtYWxsLXVzZXItZm9vZC1saXN0JywgKCkgPT4ge1xuXG4gICAgYmVmb3JlKCgpID0+IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkwpKVxuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG5cbiAgICAgICAgYXdhaXQgVXNlci5kZWxldGVNYW55KClcbiAgICAgICAgYXdhaXQgQ29ob3VzaW5nLmRlbGV0ZU1hbnkoKVxuXG4gICAgICAgIG5hbWUgPSBgbmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgc3VybmFtZSA9IGBzdXJuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBlbWFpbCA9IGBlLSR7cmFuZG9tKCl9QG1haWwuY29tYFxuICAgICAgICBwYXNzd29yZCA9IGBwYXNzd29yZC0ke3JhbmRvbSgpfWBcblxuICAgICAgICBfbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBfc3VybmFtZSA9IGBzdXJuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBfZW1haWwgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgX3Bhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxuXG4gICAgICAgIG5hbWVDb2hvdXNpbmcgPSBgbmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgc3RyZWV0ID0gYHN0cmVldC0ke3JhbmRvbSgpfWBcbiAgICAgICAgbnVtYmVyID0gcmFuZG9tKClcbiAgICAgICAgY2l0eSA9IGBjaXR5LSR7cmFuZG9tKCl9YFxuICAgICAgICBhY2Nlc3NDb2RlID0gcmFuZG9tQWNjZXNzQ29kZShuYW1lKVxuICAgICAgICBsYXVuZHJ5TnVtID0gNFxuICAgICAgICBcbiAgICAgICAgX25hbWVDb2hvdXNpbmcgPSBgbmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgX3N0cmVldCA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXG4gICAgICAgIF9udW1iZXIgPSByYW5kb20oKVxuICAgICAgICBfY2l0eSA9IGBjaXR5LSR7cmFuZG9tKCl9YFxuICAgICAgICBfYWNjZXNzQ29kZSA9IHJhbmRvbUFjY2Vzc0NvZGUobmFtZSlcblxuICAgICAgICBmb29kSXRlbSA9IGBmcnVpdC0ke3JhbmRvbSgpfWBcbiAgICAgICAgZm9vZEl0ZW1fMiA9IGBmcnVpdC0ke3JhbmRvbSgpfWBcblxuXG4gICAgICAgIGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApXG4gICAgICAgIF9oYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoeyBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQ6IGhhc2ggfSlcbiAgICAgICAgdXNlcklkID0gdXNlci5pZFxuICAgICAgICBsZXQgYWRkcmVzcyA9IHsgc3RyZWV0LCBudW1iZXIsIGNpdHkgfVxuICAgICAgICBjb25zdCBjb2hvdXNpbmcgPSBhd2FpdCBDb2hvdXNpbmcuY3JlYXRlKHsgbmFtZTogbmFtZUNvaG91c2luZywgYWRkcmVzcywgYXV0aG9yOiB1c2VySWQsIGFjY2Vzc0NvZGUsIG1lbWJlcnM6IFt1c2VySWRdLCBsYXVuZHJ5TnVtIH0pXG5cbiAgICAgICAgY29ob3VzaW5nLmZvb2RMaXN0LnB1c2goeyBuYW1lOiBmb29kSXRlbSwgd2VpZ2h0OiAyIH0pXG4gICAgICAgIGNvaG91c2luZy5mb29kTGlzdC5wdXNoKHsgbmFtZTogZm9vZEl0ZW1fMiwgd2VpZ2h0OiAxIH0pXG4gICAgICAgIGF3YWl0IGNvaG91c2luZy5zYXZlKClcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gY29ob3VzaW5nIGhhdmUgYSBsaXN0JywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyB1c2VyIGxpc3QgZm9vZCcsIGFzeW5jICgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgbGlzdCA9IGF3YWl0IHJldHJpZXZlQWxsVXNlckZvb2RMaXN0KHVzZXJJZClcblxuICAgICAgICAgICAgZXhwZWN0KGxpc3QuZm9vZExpc3QpLnRvLmV4aXN0XG4gICAgICAgICAgICBleHBlY3QobGlzdC5mb29kTGlzdFswXS5uYW1lKS50by5lcXVhbChmb29kSXRlbSlcbiAgICAgICAgICAgIGV4cGVjdChsaXN0LmZvb2RMaXN0WzBdLndlaWdodCkudG8uZXF1YWwoMilcblxuICAgICAgICAgICAgZXhwZWN0KGxpc3QuZm9vZExpc3RbMV0ubmFtZSkudG8uZXF1YWwoZm9vZEl0ZW1fMilcbiAgICAgICAgICAgIGV4cGVjdChsaXN0LmZvb2RMaXN0WzFdLndlaWdodCkudG8uZXF1YWwoMSlcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBkZXNjcmliZSgnd2hlbiBjb2hvdXNpbmcgaGFzIG5vdCBhIGxpc3QnLCAoKSA9PiB7XG4gICAgICAgIGxldCBfdXNlciwgX3VzZXJJZFxuICAgICAgICBsZXQgYWRkcmVzcyA9IHsgX3N0cmVldCwgX251bWJlciwgX2NpdHkgfVxuICAgICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIF91c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoe25hbWU6IF9uYW1lLHN1cm5hbWU6ICBfc3VybmFtZSwgZW1haWw6IF9lbWFpbCwgcGFzc3dvcmQ6IF9oYXNoIH0pXG4gICAgICAgICAgICBfdXNlcklkID0gX3VzZXIuaWRcbiAgICAgICAgICAgIGF3YWl0IENvaG91c2luZy5jcmVhdGUoeyBuYW1lOiBfbmFtZUNvaG91c2luZywgYWRkcmVzcywgYXV0aG9yOiBfdXNlcklkLCBhY2Nlc3NDb2RlOiBfYWNjZXNzQ29kZSwgbWVtYmVyczogW191c2VySWRdLCBsYXVuZHJ5TnVtOiA0IH0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KCdzaG91bGQgbm90IHNob3cgbm90aGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCByZXRyaWV2ZUFsbFVzZXJGb29kTGlzdChfdXNlcklkKVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uZXhpc3RcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoYG5vIGxpc3QgeWV0YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBkZXNjcmliZSgnc3luYyBlcnJvcnMnLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ29uIHdyb25nIHR5cGUgb2YgZGF0YScsICgpID0+IHtcblxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IHJldHJpZXZlQWxsVXNlckZvb2RMaXN0KCcnKSkudG8udGhyb3coVm9pZEVycm9yLCAnc3RyaW5nIGlzIGVtcHR5IG9yIGJsYW5rJylcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCgyKSkudG8udGhyb3coVHlwZUVycm9yLCAnMiBpcyBub3QgYSBzdHJpbmcnKVxuICAgICAgICB9KVxuICAgIH0pXG5cblxuICAgIGFmdGVyRWFjaCgoKSA9PiBVc2VyLmRlbGV0ZU1hbnkoKSlcblxuICAgIGFmdGVyKG1vbmdvb3NlLmRpc2Nvbm5lY3QpXG5cbn0pIl19