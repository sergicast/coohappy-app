function cov_w1qg98r5(){var path="/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/add-date-laundry.spec.js";var hash="fad30debbbe14eb5ef583ad0a17dd2284c5e7a99";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/add-date-laundry.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:51},end:{line:3,column:58}},"2":{start:{line:5,column:19},end:{line:5,column:34}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:23},end:{line:7,column:52}},"5":{start:{line:8,column:15},end:{line:8,column:34}},"6":{start:{line:9,column:40},end:{line:9,column:67}},"7":{start:{line:10,column:21},end:{line:10,column:45}},"8":{start:{line:11,column:34},end:{line:11,column:61}},"9":{start:{line:12,column:64},end:{line:12,column:88}},"10":{start:{line:17,column:0},end:{line:151,column:2}},"11":{start:{line:19,column:4},end:{line:19,column:47}},"12":{start:{line:19,column:17},end:{line:19,column:46}},"13":{start:{line:21,column:4},end:{line:53,column:6}},"14":{start:{line:23,column:8},end:{line:23,column:31}},"15":{start:{line:24,column:8},end:{line:24,column:36}},"16":{start:{line:26,column:8},end:{line:26,column:33}},"17":{start:{line:27,column:8},end:{line:27,column:39}},"18":{start:{line:28,column:8},end:{line:28,column:40}},"19":{start:{line:29,column:8},end:{line:29,column:41}},"20":{start:{line:31,column:8},end:{line:31,column:34}},"21":{start:{line:32,column:8},end:{line:32,column:40}},"22":{start:{line:33,column:8},end:{line:33,column:41}},"23":{start:{line:34,column:8},end:{line:34,column:42}},"24":{start:{line:36,column:8},end:{line:36,column:42}},"25":{start:{line:37,column:8},end:{line:37,column:37}},"26":{start:{line:38,column:8},end:{line:38,column:25}},"27":{start:{line:39,column:8},end:{line:39,column:33}},"28":{start:{line:40,column:8},end:{line:40,column:43}},"29":{start:{line:41,column:8},end:{line:41,column:22}},"30":{start:{line:44,column:8},end:{line:44,column:46}},"31":{start:{line:45,column:8},end:{line:45,column:47}},"32":{start:{line:46,column:21},end:{line:46,column:80}},"33":{start:{line:47,column:8},end:{line:47,column:24}},"34":{start:{line:48,column:8},end:{line:48,column:101}},"35":{start:{line:49,column:8},end:{line:49,column:26}},"36":{start:{line:50,column:22},end:{line:50,column:46}},"37":{start:{line:51,column:26},end:{line:51,column:141}},"38":{start:{line:55,column:4},end:{line:67,column:6}},"39":{start:{line:57,column:8},end:{line:66,column:10}},"40":{start:{line:59,column:12},end:{line:59,column:50}},"41":{start:{line:60,column:30},end:{line:60,column:76}},"42":{start:{line:62,column:12},end:{line:62,column:46}},"43":{start:{line:63,column:12},end:{line:63,column:58}},"44":{start:{line:64,column:12},end:{line:64,column:59}},"45":{start:{line:65,column:12},end:{line:65,column:73}},"46":{start:{line:70,column:4},end:{line:130,column:6}},"47":{start:{line:72,column:8},end:{line:76,column:10}},"48":{start:{line:73,column:30},end:{line:73,column:76}},"49":{start:{line:74,column:12},end:{line:74,column:43}},"50":{start:{line:75,column:12},end:{line:75,column:28}},"51":{start:{line:78,column:8},end:{line:96,column:10}},"52":{start:{line:80,column:12},end:{line:80,column:50}},"53":{start:{line:82,column:30},end:{line:82,column:76}},"54":{start:{line:84,column:12},end:{line:84,column:46}},"55":{start:{line:85,column:12},end:{line:85,column:58}},"56":{start:{line:86,column:12},end:{line:86,column:59}},"57":{start:{line:87,column:12},end:{line:87,column:73}},"58":{start:{line:88,column:12},end:{line:95,column:13}},"59":{start:{line:89,column:16},end:{line:89,column:55}},"60":{start:{line:93,column:16},end:{line:93,column:38}},"61":{start:{line:94,column:16},end:{line:94,column:90}},"62":{start:{line:98,column:8},end:{line:112,column:10}},"63":{start:{line:100,column:30},end:{line:100,column:114}},"64":{start:{line:102,column:12},end:{line:102,column:50}},"65":{start:{line:104,column:12},end:{line:111,column:13}},"66":{start:{line:105,column:16},end:{line:105,column:54}},"67":{start:{line:109,column:16},end:{line:109,column:38}},"68":{start:{line:110,column:16},end:{line:110,column:108}},"69":{start:{line:114,column:8},end:{line:129,column:10}},"70":{start:{line:116,column:12},end:{line:116,column:96}},"71":{start:{line:118,column:12},end:{line:118,column:50}},"72":{start:{line:119,column:12},end:{line:119,column:51}},"73":{start:{line:120,column:31},end:{line:120,column:77}},"74":{start:{line:121,column:12},end:{line:121,column:46}},"75":{start:{line:122,column:12},end:{line:122,column:58}},"76":{start:{line:123,column:12},end:{line:123,column:59}},"77":{start:{line:124,column:12},end:{line:124,column:73}},"78":{start:{line:126,column:12},end:{line:126,column:58}},"79":{start:{line:127,column:12},end:{line:127,column:59}},"80":{start:{line:128,column:12},end:{line:128,column:74}},"81":{start:{line:133,column:4},end:{line:141,column:6}},"82":{start:{line:135,column:8},end:{line:140,column:10}},"83":{start:{line:137,column:12},end:{line:137,column:119}},"84":{start:{line:137,column:25},end:{line:137,column:69}},"85":{start:{line:138,column:12},end:{line:138,column:109}},"86":{start:{line:138,column:25},end:{line:138,column:56}},"87":{start:{line:144,column:4},end:{line:147,column:6}},"88":{start:{line:145,column:8},end:{line:145,column:25}},"89":{start:{line:146,column:8},end:{line:146,column:30}},"90":{start:{line:149,column:4},end:{line:149,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:37},end:{line:17,column:38}},loc:{start:{line:17,column:43},end:{line:151,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:11},end:{line:19,column:12}},loc:{start:{line:19,column:17},end:{line:19,column:46}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:15},end:{line:21,column:16}},loc:{start:{line:21,column:27},end:{line:53,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:55,column:48},end:{line:55,column:49}},loc:{start:{line:55,column:54},end:{line:67,column:5}},line:55},"4":{name:"(anonymous_4)",decl:{start:{line:57,column:43},end:{line:57,column:44}},loc:{start:{line:57,column:55},end:{line:66,column:9}},line:57},"5":{name:"(anonymous_5)",decl:{start:{line:70,column:44},end:{line:70,column:45}},loc:{start:{line:70,column:50},end:{line:130,column:5}},line:70},"6":{name:"(anonymous_6)",decl:{start:{line:72,column:19},end:{line:72,column:20}},loc:{start:{line:72,column:31},end:{line:76,column:9}},line:72},"7":{name:"(anonymous_7)",decl:{start:{line:78,column:140},end:{line:78,column:141}},loc:{start:{line:78,column:152},end:{line:96,column:9}},line:78},"8":{name:"(anonymous_8)",decl:{start:{line:98,column:103},end:{line:98,column:104}},loc:{start:{line:98,column:115},end:{line:112,column:9}},line:98},"9":{name:"(anonymous_9)",decl:{start:{line:114,column:167},end:{line:114,column:168}},loc:{start:{line:114,column:179},end:{line:129,column:9}},line:114},"10":{name:"(anonymous_10)",decl:{start:{line:133,column:28},end:{line:133,column:29}},loc:{start:{line:133,column:34},end:{line:141,column:5}},line:133},"11":{name:"(anonymous_11)",decl:{start:{line:135,column:36},end:{line:135,column:37}},loc:{start:{line:135,column:42},end:{line:140,column:9}},line:135},"12":{name:"(anonymous_12)",decl:{start:{line:137,column:19},end:{line:137,column:20}},loc:{start:{line:137,column:25},end:{line:137,column:69}},line:137},"13":{name:"(anonymous_13)",decl:{start:{line:138,column:19},end:{line:138,column:20}},loc:{start:{line:138,column:25},end:{line:138,column:56}},line:138},"14":{name:"(anonymous_14)",decl:{start:{line:144,column:14},end:{line:144,column:15}},loc:{start:{line:144,column:20},end:{line:147,column:5}},line:144}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fad30debbbe14eb5ef583ad0a17dd2284c5e7a99"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_w1qg98r5=function(){return actualCoverage;};}return actualCoverage;}cov_w1qg98r5();cov_w1qg98r5().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL}}=(cov_w1qg98r5().s[1]++,process);const{expect}=(cov_w1qg98r5().s[2]++,require('chai'));const{random}=(cov_w1qg98r5().s[3]++,Math);const addDateLaundry=(cov_w1qg98r5().s[4]++,require('./add-date-laundry'));const bcrypt=(cov_w1qg98r5().s[5]++,require('bcryptjs'));const{utils:{randomAccessCode}}=(cov_w1qg98r5().s[6]++,require('coohappy-commons'));const{mongoose}=(cov_w1qg98r5().s[7]++,require('coohappy-data'));const{errors:{VoidError}}=(cov_w1qg98r5().s[8]++,require('coohappy-commons'));const{models:{User,Cohousing},mongoose:{ObjectId}}=(cov_w1qg98r5().s[9]++,require('coohappy-data'));let name,surname,email,password,hash,userId,nameCohousing,street,number,city,accessCode,message,date,foodItem,foodItem_2,_name,_surname,_email,_password,_hash,_nameCohousing,_street,_number,_city,_accessCode,laundryNum;cov_w1qg98r5().s[10]++;describe('logic - add-date-laundry',()=>{cov_w1qg98r5().f[0]++;cov_w1qg98r5().s[11]++;before(()=>{cov_w1qg98r5().f[1]++;cov_w1qg98r5().s[12]++;return mongoose.connect(MONGODB_URL);});cov_w1qg98r5().s[13]++;beforeEach(async()=>{cov_w1qg98r5().f[2]++;cov_w1qg98r5().s[14]++;await User.deleteMany();cov_w1qg98r5().s[15]++;await Cohousing.deleteMany();cov_w1qg98r5().s[16]++;name=`name-${random()}`;cov_w1qg98r5().s[17]++;surname=`surname-${random()}`;cov_w1qg98r5().s[18]++;email=`e-${random()}@mail.com`;cov_w1qg98r5().s[19]++;password=`password-${random()}`;cov_w1qg98r5().s[20]++;_name=`name-${random()}`;cov_w1qg98r5().s[21]++;_surname=`surname-${random()}`;cov_w1qg98r5().s[22]++;_email=`e-${random()}@mail.com`;cov_w1qg98r5().s[23]++;_password=`password-${random()}`;cov_w1qg98r5().s[24]++;nameCohousing=`name-${random()}`;cov_w1qg98r5().s[25]++;street=`street-${random()}`;cov_w1qg98r5().s[26]++;number=random();cov_w1qg98r5().s[27]++;city=`city-${random()}`;cov_w1qg98r5().s[28]++;accessCode=randomAccessCode(name);cov_w1qg98r5().s[29]++;laundryNum=1;cov_w1qg98r5().s[30]++;hash=await bcrypt.hash(password,10);cov_w1qg98r5().s[31]++;_hash=await bcrypt.hash(password,10);const user=(cov_w1qg98r5().s[32]++,await User.create({name,surname,email,password:hash}));cov_w1qg98r5().s[33]++;userId=user.id;cov_w1qg98r5().s[34]++;_user=await User.create({name:_name,surname:_surname,email:_email,password:_hash});cov_w1qg98r5().s[35]++;_userId=_user.id;let address=(cov_w1qg98r5().s[36]++,{street,number,city});const cohousing=(cov_w1qg98r5().s[37]++,await Cohousing.create({name:nameCohousing,address,author:userId,accessCode,members:[userId],laundryNum}));});cov_w1qg98r5().s[38]++;describe('when not exist any reservations',()=>{cov_w1qg98r5().f[3]++;cov_w1qg98r5().s[39]++;it('should succes on reservation',async()=>{cov_w1qg98r5().f[4]++;cov_w1qg98r5().s[40]++;await addDateLaundry('8','8',userId);const cohousing=(cov_w1qg98r5().s[41]++,await Cohousing.findOne({'members':userId}));cov_w1qg98r5().s[42]++;expect(cohousing.laundry).to.exist;cov_w1qg98r5().s[43]++;expect(cohousing.laundry[0].day).to.equal('8');cov_w1qg98r5().s[44]++;expect(cohousing.laundry[0].hour).to.equal('8');cov_w1qg98r5().s[45]++;expect(cohousing.laundry[0].user.toString()).to.equal(userId);});});cov_w1qg98r5().s[46]++;describe('when exist any reservations',()=>{cov_w1qg98r5().f[5]++;cov_w1qg98r5().s[47]++;beforeEach(async()=>{cov_w1qg98r5().f[6]++;const cohousing=(cov_w1qg98r5().s[48]++,await Cohousing.findOne({'members':userId}));cov_w1qg98r5().s[49]++;cohousing.members.push(_userId);cov_w1qg98r5().s[50]++;cohousing.save();});cov_w1qg98r5().s[51]++;it('it should fail when there is a reservation and we want to do a second one at the same hour with a limit of 1 washing machines',async()=>{cov_w1qg98r5().f[7]++;cov_w1qg98r5().s[52]++;await addDateLaundry('8','8',userId);const cohousing=(cov_w1qg98r5().s[53]++,await Cohousing.findOne({'members':userId}));cov_w1qg98r5().s[54]++;expect(cohousing.laundry).to.exist;cov_w1qg98r5().s[55]++;expect(cohousing.laundry[0].day).to.equal('8');cov_w1qg98r5().s[56]++;expect(cohousing.laundry[0].hour).to.equal('8');cov_w1qg98r5().s[57]++;expect(cohousing.laundry[0].user.toString()).to.equal(userId);cov_w1qg98r5().s[58]++;try{cov_w1qg98r5().s[59]++;await addDateLaundry('8','8',_userId);}catch(error){cov_w1qg98r5().s[60]++;expect(error).to.exist;cov_w1qg98r5().s[61]++;expect(error.message).to.equal('sorry all the washing machines are full ');}});cov_w1qg98r5().s[62]++;it('it should fail when there is a reservation and we want to do a second with the same user',async()=>{cov_w1qg98r5().f[8]++;const cohousing=(cov_w1qg98r5().s[63]++,await Cohousing.findOneAndUpdate({'members':userId},{$set:{laundryNum:4}}));cov_w1qg98r5().s[64]++;await addDateLaundry('8','8',userId);cov_w1qg98r5().s[65]++;try{cov_w1qg98r5().s[66]++;await addDateLaundry('8','8',userId);}catch(error){cov_w1qg98r5().s[67]++;expect(error).to.exist;cov_w1qg98r5().s[68]++;expect(error.message).to.equal(`User with id ${userId} already have an hour in the laundry`);}});cov_w1qg98r5().s[69]++;it('should success when there is a reservation and we want to do a second at the same hour and day with another user and the limit of washing machines are 2',async()=>{cov_w1qg98r5().f[9]++;cov_w1qg98r5().s[70]++;await Cohousing.findOneAndUpdate({'members':userId},{$set:{laundryNum:2}});cov_w1qg98r5().s[71]++;await addDateLaundry('8','8',userId);cov_w1qg98r5().s[72]++;await addDateLaundry('8','8',_userId);const cohousing=(cov_w1qg98r5().s[73]++,await Cohousing.findOne({'members':userId}));cov_w1qg98r5().s[74]++;expect(cohousing.laundry).to.exist;cov_w1qg98r5().s[75]++;expect(cohousing.laundry[0].day).to.equal('8');cov_w1qg98r5().s[76]++;expect(cohousing.laundry[0].hour).to.equal('8');cov_w1qg98r5().s[77]++;expect(cohousing.laundry[0].user.toString()).to.equal(userId);cov_w1qg98r5().s[78]++;expect(cohousing.laundry[1].day).to.equal('8');cov_w1qg98r5().s[79]++;expect(cohousing.laundry[1].hour).to.equal('8');cov_w1qg98r5().s[80]++;expect(cohousing.laundry[1].user.toString()).to.equal(_userId);});});cov_w1qg98r5().s[81]++;describe('sync errors',()=>{cov_w1qg98r5().f[10]++;cov_w1qg98r5().s[82]++;it('on wrong type of data',()=>{cov_w1qg98r5().f[11]++;cov_w1qg98r5().s[83]++;expect(()=>{cov_w1qg98r5().f[12]++;cov_w1qg98r5().s[84]++;return addDateLaundry(undefined,undefined,userId);}).to.throw(TypeError,'undefined is not a string');cov_w1qg98r5().s[85]++;expect(()=>{cov_w1qg98r5().f[13]++;cov_w1qg98r5().s[86]++;return addDateLaundry('','8',userId);}).to.throw(VoidError,'Some field is empty or blank');});});cov_w1qg98r5().s[87]++;afterEach(()=>{cov_w1qg98r5().f[14]++;cov_w1qg98r5().s[88]++;User.deleteMany();cov_w1qg98r5().s[89]++;Cohousing.deleteMany();});cov_w1qg98r5().s[90]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1kYXRlLWxhdW5kcnkuc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsIk1PTkdPREJfVVJMIiwicHJvY2VzcyIsImV4cGVjdCIsInJhbmRvbSIsIk1hdGgiLCJhZGREYXRlTGF1bmRyeSIsImJjcnlwdCIsInV0aWxzIiwicmFuZG9tQWNjZXNzQ29kZSIsIm1vbmdvb3NlIiwiZXJyb3JzIiwiVm9pZEVycm9yIiwibW9kZWxzIiwiVXNlciIsIkNvaG91c2luZyIsIk9iamVjdElkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaGFzaCIsInVzZXJJZCIsIm5hbWVDb2hvdXNpbmciLCJzdHJlZXQiLCJudW1iZXIiLCJjaXR5IiwiYWNjZXNzQ29kZSIsIm1lc3NhZ2UiLCJkYXRlIiwiZm9vZEl0ZW0iLCJmb29kSXRlbV8yIiwiX25hbWUiLCJfc3VybmFtZSIsIl9lbWFpbCIsIl9wYXNzd29yZCIsIl9oYXNoIiwiX25hbWVDb2hvdXNpbmciLCJfc3RyZWV0IiwiX251bWJlciIsIl9jaXR5IiwiX2FjY2Vzc0NvZGUiLCJsYXVuZHJ5TnVtIiwiZGVzY3JpYmUiLCJiZWZvcmUiLCJjb25uZWN0IiwiYmVmb3JlRWFjaCIsImRlbGV0ZU1hbnkiLCJ1c2VyIiwiY3JlYXRlIiwiaWQiLCJfdXNlciIsIl91c2VySWQiLCJhZGRyZXNzIiwiY29ob3VzaW5nIiwiYXV0aG9yIiwibWVtYmVycyIsIml0IiwiZmluZE9uZSIsImxhdW5kcnkiLCJ0byIsImV4aXN0IiwiZGF5IiwiZXF1YWwiLCJob3VyIiwidG9TdHJpbmciLCJwdXNoIiwic2F2ZSIsImVycm9yIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRzZXQiLCJ1bmRlZmluZWQiLCJ0aHJvdyIsIlR5cGVFcnJvciIsImFmdGVyRWFjaCIsImFmdGVyIiwiZGlzY29ubmVjdCJdLCJtYXBwaW5ncyI6InNzUkFlWTs2R0FmWkEsT0FBTyxDQUFD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REcsS0FBaEQsQ0FBc0RYLE9BQXRELEVBQ0gsQ0FmQyxDQUFGLENBZ0JILENBNURPLENBQVIsQ0FyRHVDLHVCQW9IdkNULFFBQVEsQ0FBQyxhQUFELENBQWdCLElBQU0sK0NBRTFCYyxFQUFFLENBQUMsdUJBQUQsQ0FBMEIsSUFBTSwrQ0FFOUJ0RCxNQUFNLENBQUMsSUFBTSxxREFBQUcsQ0FBQUEsY0FBYyxDQUFDaUUsU0FBRCxDQUFZQSxTQUFaLENBQXVCakQsTUFBdkIsQ0FBZCxDQUE0QyxDQUFuRCxDQUFOLENBQTJEc0MsRUFBM0QsQ0FBOERZLEtBQTlELENBQW9FQyxTQUFwRSxDQUErRSwyQkFBL0UsRUFGOEIsdUJBRzlCdEUsTUFBTSxDQUFDLElBQU0scURBQUFHLENBQUFBLGNBQWMsQ0FBQyxFQUFELENBQUssR0FBTCxDQUFVZ0IsTUFBVixDQUFkLENBQStCLENBQXRDLENBQU4sQ0FBOENzQyxFQUE5QyxDQUFpRFksS0FBakQsQ0FBdUQ1RCxTQUF2RCxDQUFrRSw4QkFBbEUsRUFFSCxDQUxDLENBQUYsQ0FNSCxDQVJPLENBQVIsQ0FwSHVDLHVCQStIdkM4RCxTQUFTLENBQUMsSUFBTSwrQ0FDWjVELElBQUksQ0FBQ2lDLFVBQUwsR0FEWSx1QkFFWmhDLFNBQVMsQ0FBQ2dDLFVBQVYsR0FDSCxDQUhRLENBQVQsQ0EvSHVDLHVCQW9JdkM0QixLQUFLLENBQUNqRSxRQUFRLENBQUNrRSxVQUFWLENBQUwsQ0FFSCxDQXRJTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTDogTU9OR09EQl9VUkwgfSB9ID0gcHJvY2Vzc1xuXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxuY29uc3QgYWRkRGF0ZUxhdW5kcnkgPSByZXF1aXJlKCcuL2FkZC1kYXRlLWxhdW5kcnknKVxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxuY29uc3QgeyB1dGlsczogeyByYW5kb21BY2Nlc3NDb2RlIH0gfSA9IHJlcXVpcmUoJ2Nvb2hhcHB5LWNvbW1vbnMnKVxuY29uc3QgeyBtb25nb29zZSB9ID0gcmVxdWlyZSgnY29vaGFwcHktZGF0YScpXG5jb25zdCB7IGVycm9yczogeyBWb2lkRXJyb3IgfSB9ID0gcmVxdWlyZSgnY29vaGFwcHktY29tbW9ucycpXG5jb25zdCB7IG1vZGVsczogeyBVc2VyLCBDb2hvdXNpbmcgfSwgbW9uZ29vc2U6IHsgT2JqZWN0SWQgfSB9ID0gcmVxdWlyZSgnY29vaGFwcHktZGF0YScpXG5cbmxldCBuYW1lLCBzdXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGhhc2gsIHVzZXJJZCwgbmFtZUNvaG91c2luZywgc3RyZWV0LCBudW1iZXIsIGNpdHksIGFjY2Vzc0NvZGUsIG1lc3NhZ2UsIGRhdGUsXG4gICAgZm9vZEl0ZW0sIGZvb2RJdGVtXzIsIF9uYW1lLCBfc3VybmFtZSwgX2VtYWlsLCBfcGFzc3dvcmQsIF9oYXNoLCBfbmFtZUNvaG91c2luZywgX3N0cmVldCwgX251bWJlciwgX2NpdHksIF9hY2Nlc3NDb2RlLCBsYXVuZHJ5TnVtXG5cbmRlc2NyaWJlKCdsb2dpYyAtIGFkZC1kYXRlLWxhdW5kcnknLCAoKSA9PiB7XG5cbiAgICBiZWZvcmUoKCkgPT4gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSTCkpXG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcblxuICAgICAgICBhd2FpdCBVc2VyLmRlbGV0ZU1hbnkoKVxuICAgICAgICBhd2FpdCBDb2hvdXNpbmcuZGVsZXRlTWFueSgpXG5cbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBzdXJuYW1lID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIGVtYWlsID0gYGUtJHtyYW5kb20oKX1AbWFpbC5jb21gXG4gICAgICAgIHBhc3N3b3JkID0gYHBhc3N3b3JkLSR7cmFuZG9tKCl9YFxuXG4gICAgICAgIF9uYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIF9zdXJuYW1lID0gYHN1cm5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIF9lbWFpbCA9IGBlLSR7cmFuZG9tKCl9QG1haWwuY29tYFxuICAgICAgICBfcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXG5cbiAgICAgICAgbmFtZUNvaG91c2luZyA9IGBuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBzdHJlZXQgPSBgc3RyZWV0LSR7cmFuZG9tKCl9YFxuICAgICAgICBudW1iZXIgPSByYW5kb20oKVxuICAgICAgICBjaXR5ID0gYGNpdHktJHtyYW5kb20oKX1gXG4gICAgICAgIGFjY2Vzc0NvZGUgPSByYW5kb21BY2Nlc3NDb2RlKG5hbWUpXG4gICAgICAgIGxhdW5kcnlOdW0gPSAxXG5cblxuICAgICAgICBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxuICAgICAgICBfaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMClcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHsgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkOiBoYXNoIH0pXG4gICAgICAgIHVzZXJJZCA9IHVzZXIuaWRcbiAgICAgICAgX3VzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7IG5hbWU6IF9uYW1lLCBzdXJuYW1lOiBfc3VybmFtZSwgZW1haWw6IF9lbWFpbCwgcGFzc3dvcmQ6IF9oYXNoIH0pXG4gICAgICAgIF91c2VySWQgPSBfdXNlci5pZFxuICAgICAgICBsZXQgYWRkcmVzcyA9IHsgc3RyZWV0LCBudW1iZXIsIGNpdHkgfVxuICAgICAgICBjb25zdCBjb2hvdXNpbmcgPSBhd2FpdCBDb2hvdXNpbmcuY3JlYXRlKHsgbmFtZTogbmFtZUNvaG91c2luZywgYWRkcmVzcywgYXV0aG9yOiB1c2VySWQsIGFjY2Vzc0NvZGUsIG1lbWJlcnM6IFt1c2VySWRdLCBsYXVuZHJ5TnVtIH0pXG5cbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gbm90IGV4aXN0IGFueSByZXNlcnZhdGlvbnMnLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBzdWNjZXMgb24gcmVzZXJ2YXRpb24nLCBhc3luYyAoKSA9PiB7XG5cbiAgICAgICAgICAgIGF3YWl0IGFkZERhdGVMYXVuZHJ5KCc4JywgJzgnLCB1c2VySWQpXG4gICAgICAgICAgICBjb25zdCBjb2hvdXNpbmcgPSBhd2FpdCBDb2hvdXNpbmcuZmluZE9uZSh7ICdtZW1iZXJzJzogdXNlcklkIH0pXG5cbiAgICAgICAgICAgIGV4cGVjdChjb2hvdXNpbmcubGF1bmRyeSkudG8uZXhpc3RcbiAgICAgICAgICAgIGV4cGVjdChjb2hvdXNpbmcubGF1bmRyeVswXS5kYXkpLnRvLmVxdWFsKCc4JylcbiAgICAgICAgICAgIGV4cGVjdChjb2hvdXNpbmcubGF1bmRyeVswXS5ob3VyKS50by5lcXVhbCgnOCcpXG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnlbMF0udXNlci50b1N0cmluZygpKS50by5lcXVhbCh1c2VySWQpXG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgZGVzY3JpYmUoJ3doZW4gZXhpc3QgYW55IHJlc2VydmF0aW9ucycsICgpID0+IHtcblxuICAgICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvaG91c2luZyA9IGF3YWl0IENvaG91c2luZy5maW5kT25lKHsgJ21lbWJlcnMnOiB1c2VySWQgfSlcbiAgICAgICAgICAgIGNvaG91c2luZy5tZW1iZXJzLnB1c2goX3VzZXJJZClcbiAgICAgICAgICAgIGNvaG91c2luZy5zYXZlKClcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnaXQgc2hvdWxkIGZhaWwgd2hlbiB0aGVyZSBpcyBhIHJlc2VydmF0aW9uIGFuZCB3ZSB3YW50IHRvIGRvIGEgc2Vjb25kIG9uZSBhdCB0aGUgc2FtZSBob3VyIHdpdGggYSBsaW1pdCBvZiAxIHdhc2hpbmcgbWFjaGluZXMnLCBhc3luYyAoKSA9PiB7XG5cbiAgICAgICAgICAgIGF3YWl0IGFkZERhdGVMYXVuZHJ5KCc4JywgJzgnLCB1c2VySWQpXG5cbiAgICAgICAgICAgIGNvbnN0IGNvaG91c2luZyA9IGF3YWl0IENvaG91c2luZy5maW5kT25lKHsgJ21lbWJlcnMnOiB1c2VySWQgfSlcblxuICAgICAgICAgICAgZXhwZWN0KGNvaG91c2luZy5sYXVuZHJ5KS50by5leGlzdFxuICAgICAgICAgICAgZXhwZWN0KGNvaG91c2luZy5sYXVuZHJ5WzBdLmRheSkudG8uZXF1YWwoJzgnKVxuICAgICAgICAgICAgZXhwZWN0KGNvaG91c2luZy5sYXVuZHJ5WzBdLmhvdXIpLnRvLmVxdWFsKCc4JylcbiAgICAgICAgICAgIGV4cGVjdChjb2hvdXNpbmcubGF1bmRyeVswXS51c2VyLnRvU3RyaW5nKCkpLnRvLmVxdWFsKHVzZXJJZClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWRkRGF0ZUxhdW5kcnkoJzgnLCAnOCcsIF91c2VySWQpXG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKCdzb3JyeSBhbGwgdGhlIHdhc2hpbmcgbWFjaGluZXMgYXJlIGZ1bGwgJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnaXQgc2hvdWxkIGZhaWwgd2hlbiB0aGVyZSBpcyBhIHJlc2VydmF0aW9uIGFuZCB3ZSB3YW50IHRvIGRvIGEgc2Vjb25kIHdpdGggdGhlIHNhbWUgdXNlcicsIGFzeW5jICgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY29ob3VzaW5nID0gYXdhaXQgQ29ob3VzaW5nLmZpbmRPbmVBbmRVcGRhdGUoeyAnbWVtYmVycyc6IHVzZXJJZCB9LCB7ICRzZXQ6IHsgbGF1bmRyeU51bTogNCB9IH0pXG5cbiAgICAgICAgICAgIGF3YWl0IGFkZERhdGVMYXVuZHJ5KCc4JywgJzgnLCB1c2VySWQpXG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWRkRGF0ZUxhdW5kcnkoJzgnLCAnOCcsIHVzZXJJZClcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uZXhpc3RcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoYFVzZXIgd2l0aCBpZCAke3VzZXJJZH0gYWxyZWFkeSBoYXZlIGFuIGhvdXIgaW4gdGhlIGxhdW5kcnlgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGl0KCdzaG91bGQgc3VjY2VzcyB3aGVuIHRoZXJlIGlzIGEgcmVzZXJ2YXRpb24gYW5kIHdlIHdhbnQgdG8gZG8gYSBzZWNvbmQgYXQgdGhlIHNhbWUgaG91ciBhbmQgZGF5IHdpdGggYW5vdGhlciB1c2VyIGFuZCB0aGUgbGltaXQgb2Ygd2FzaGluZyBtYWNoaW5lcyBhcmUgMicsIGFzeW5jICgpID0+IHtcblxuICAgICAgICAgICAgYXdhaXQgQ29ob3VzaW5nLmZpbmRPbmVBbmRVcGRhdGUoeyAnbWVtYmVycyc6IHVzZXJJZCB9LCB7ICRzZXQ6IHsgbGF1bmRyeU51bTogMiB9IH0pXG5cbiAgICAgICAgICAgIGF3YWl0IGFkZERhdGVMYXVuZHJ5KCc4JywgJzgnLCB1c2VySWQpXG4gICAgICAgICAgICBhd2FpdCBhZGREYXRlTGF1bmRyeSgnOCcsICc4JywgX3VzZXJJZClcbiAgICAgICAgICAgIGNvbnN0IGNvaG91c2luZyA9ICBhd2FpdCBDb2hvdXNpbmcuZmluZE9uZSh7ICdtZW1iZXJzJzogdXNlcklkIH0pXG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnkpLnRvLmV4aXN0XG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnlbMF0uZGF5KS50by5lcXVhbCgnOCcpXG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnlbMF0uaG91cikudG8uZXF1YWwoJzgnKVxuICAgICAgICAgICAgZXhwZWN0KGNvaG91c2luZy5sYXVuZHJ5WzBdLnVzZXIudG9TdHJpbmcoKSkudG8uZXF1YWwodXNlcklkKVxuXG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnlbMV0uZGF5KS50by5lcXVhbCgnOCcpXG4gICAgICAgICAgICBleHBlY3QoY29ob3VzaW5nLmxhdW5kcnlbMV0uaG91cikudG8uZXF1YWwoJzgnKVxuICAgICAgICAgICAgZXhwZWN0KGNvaG91c2luZy5sYXVuZHJ5WzFdLnVzZXIudG9TdHJpbmcoKSkudG8uZXF1YWwoX3VzZXJJZClcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBkZXNjcmliZSgnc3luYyBlcnJvcnMnLCAoKSA9PiB7XG5cbiAgICAgICAgaXQoJ29uIHdyb25nIHR5cGUgb2YgZGF0YScsICgpID0+IHtcblxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGFkZERhdGVMYXVuZHJ5KHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1c2VySWQpKS50by50aHJvdyhUeXBlRXJyb3IsICd1bmRlZmluZWQgaXMgbm90IGEgc3RyaW5nJylcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBhZGREYXRlTGF1bmRyeSgnJywgJzgnLCB1c2VySWQpKS50by50aHJvdyhWb2lkRXJyb3IsICdTb21lIGZpZWxkIGlzIGVtcHR5IG9yIGJsYW5rJylcblxuICAgICAgICB9KVxuICAgIH0pXG5cblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICAgIFVzZXIuZGVsZXRlTWFueSgpXG4gICAgICAgIENvaG91c2luZy5kZWxldGVNYW55KClcbiAgICB9KVxuXG4gICAgYWZ0ZXIobW9uZ29vc2UuZGlzY29ubmVjdClcblxufSkiXX0=