function cov_21rsn55688(){var path="/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/retrieve-all-users-food.list.spec.js";var hash="050111dbf1b98c5acd3e60f373ecf9ce024de246";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/mac/bootcamp/collab/skylab-bootcamp-202004/staff/sergi-ramos/coohappy/coohappy-server-logic/retrieve-all-users-food.list.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:51},end:{line:3,column:58}},"2":{start:{line:5,column:19},end:{line:5,column:34}},"3":{start:{line:6,column:19},end:{line:6,column:23}},"4":{start:{line:7,column:32},end:{line:7,column:72}},"5":{start:{line:8,column:15},end:{line:8,column:34}},"6":{start:{line:9,column:40},end:{line:9,column:67}},"7":{start:{line:10,column:21},end:{line:10,column:45}},"8":{start:{line:11,column:34},end:{line:11,column:61}},"9":{start:{line:12,column:64},end:{line:12,column:88}},"10":{start:{line:17,column:0},end:{line:116,column:2}},"11":{start:{line:19,column:4},end:{line:19,column:47}},"12":{start:{line:19,column:17},end:{line:19,column:46}},"13":{start:{line:21,column:4},end:{line:63,column:6}},"14":{start:{line:23,column:8},end:{line:23,column:31}},"15":{start:{line:24,column:8},end:{line:24,column:36}},"16":{start:{line:26,column:8},end:{line:26,column:33}},"17":{start:{line:27,column:8},end:{line:27,column:39}},"18":{start:{line:28,column:8},end:{line:28,column:40}},"19":{start:{line:29,column:8},end:{line:29,column:41}},"20":{start:{line:31,column:8},end:{line:31,column:34}},"21":{start:{line:32,column:8},end:{line:32,column:40}},"22":{start:{line:33,column:8},end:{line:33,column:41}},"23":{start:{line:34,column:8},end:{line:34,column:42}},"24":{start:{line:36,column:8},end:{line:36,column:42}},"25":{start:{line:37,column:8},end:{line:37,column:37}},"26":{start:{line:38,column:8},end:{line:38,column:25}},"27":{start:{line:39,column:8},end:{line:39,column:33}},"28":{start:{line:40,column:8},end:{line:40,column:43}},"29":{start:{line:41,column:8},end:{line:41,column:22}},"30":{start:{line:43,column:8},end:{line:43,column:43}},"31":{start:{line:44,column:8},end:{line:44,column:38}},"32":{start:{line:45,column:8},end:{line:45,column:26}},"33":{start:{line:46,column:8},end:{line:46,column:34}},"34":{start:{line:47,column:8},end:{line:47,column:44}},"35":{start:{line:49,column:8},end:{line:49,column:38}},"36":{start:{line:50,column:8},end:{line:50,column:40}},"37":{start:{line:53,column:8},end:{line:53,column:46}},"38":{start:{line:54,column:8},end:{line:54,column:47}},"39":{start:{line:55,column:21},end:{line:55,column:80}},"40":{start:{line:56,column:8},end:{line:56,column:24}},"41":{start:{line:57,column:22},end:{line:57,column:46}},"42":{start:{line:58,column:26},end:{line:58,column:141}},"43":{start:{line:60,column:8},end:{line:60,column:62}},"44":{start:{line:61,column:8},end:{line:61,column:64}},"45":{start:{line:62,column:8},end:{line:62,column:30}},"46":{start:{line:65,column:4},end:{line:78,column:6}},"47":{start:{line:67,column:8},end:{line:77,column:10}},"48":{start:{line:69,column:25},end:{line:69,column:62}},"49":{start:{line:71,column:12},end:{line:71,column:42}},"50":{start:{line:72,column:12},end:{line:72,column:60}},"51":{start:{line:73,column:12},end:{line:73,column:55}},"52":{start:{line:75,column:12},end:{line:75,column:62}},"53":{start:{line:76,column:12},end:{line:76,column:55}},"54":{start:{line:81,column:4},end:{line:99,column:6}},"55":{start:{line:83,column:22},end:{line:83,column:49}},"56":{start:{line:84,column:8},end:{line:88,column:10}},"57":{start:{line:85,column:12},end:{line:85,column:104}},"58":{start:{line:86,column:12},end:{line:86,column:30}},"59":{start:{line:87,column:12},end:{line:87,column:146}},"60":{start:{line:89,column:8},end:{line:98,column:10}},"61":{start:{line:90,column:12},end:{line:97,column:13}},"62":{start:{line:92,column:16},end:{line:92,column:54}},"63":{start:{line:95,column:16},end:{line:95,column:38}},"64":{start:{line:96,column:16},end:{line:96,column:61}},"65":{start:{line:102,column:4},end:{line:109,column:6}},"66":{start:{line:104,column:8},end:{line:108,column:10}},"67":{start:{line:106,column:12},end:{line:106,column:101}},"68":{start:{line:106,column:25},end:{line:106,column:52}},"69":{start:{line:107,column:12},end:{line:107,column:93}},"70":{start:{line:107,column:25},end:{line:107,column:51}},"71":{start:{line:112,column:4},end:{line:112,column:38}},"72":{start:{line:112,column:20},end:{line:112,column:37}},"73":{start:{line:114,column:4},end:{line:114,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:17,column:48},end:{line:17,column:49}},loc:{start:{line:17,column:54},end:{line:116,column:1}},line:17},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:11},end:{line:19,column:12}},loc:{start:{line:19,column:17},end:{line:19,column:46}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:15},end:{line:21,column:16}},loc:{start:{line:21,column:27},end:{line:63,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:65,column:43},end:{line:65,column:44}},loc:{start:{line:65,column:49},end:{line:78,column:5}},line:65},"4":{name:"(anonymous_4)",decl:{start:{line:67,column:41},end:{line:67,column:42}},loc:{start:{line:67,column:53},end:{line:77,column:9}},line:67},"5":{name:"(anonymous_5)",decl:{start:{line:81,column:46},end:{line:81,column:47}},loc:{start:{line:81,column:52},end:{line:99,column:5}},line:81},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:19},end:{line:84,column:20}},loc:{start:{line:84,column:31},end:{line:88,column:9}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:89,column:38},end:{line:89,column:39}},loc:{start:{line:89,column:50},end:{line:98,column:9}},line:89},"8":{name:"(anonymous_8)",decl:{start:{line:102,column:28},end:{line:102,column:29}},loc:{start:{line:102,column:34},end:{line:109,column:5}},line:102},"9":{name:"(anonymous_9)",decl:{start:{line:104,column:36},end:{line:104,column:37}},loc:{start:{line:104,column:42},end:{line:108,column:9}},line:104},"10":{name:"(anonymous_10)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:25},end:{line:106,column:52}},line:106},"11":{name:"(anonymous_11)",decl:{start:{line:107,column:19},end:{line:107,column:20}},loc:{start:{line:107,column:25},end:{line:107,column:51}},line:107},"12":{name:"(anonymous_12)",decl:{start:{line:112,column:14},end:{line:112,column:15}},loc:{start:{line:112,column:20},end:{line:112,column:37}},line:112}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"050111dbf1b98c5acd3e60f373ecf9ce024de246"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_21rsn55688=function(){return actualCoverage;};}return actualCoverage;}cov_21rsn55688();cov_21rsn55688().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL:MONGODB_URL}}=(cov_21rsn55688().s[1]++,process);const{expect}=(cov_21rsn55688().s[2]++,require('chai'));const{random}=(cov_21rsn55688().s[3]++,Math);const retrieveAllUserFoodList=(cov_21rsn55688().s[4]++,require('./retrieve-allUsers-food-list'));const bcrypt=(cov_21rsn55688().s[5]++,require('bcryptjs'));const{utils:{randomAccessCode}}=(cov_21rsn55688().s[6]++,require('coohappy-commons'));const{mongoose}=(cov_21rsn55688().s[7]++,require('coohappy-data'));const{errors:{VoidError}}=(cov_21rsn55688().s[8]++,require('coohappy-commons'));const{models:{User,Cohousing},mongoose:{ObjectId}}=(cov_21rsn55688().s[9]++,require('coohappy-data'));let name,surname,email,password,hash,userId,nameCohousing,street,number,city,accessCode,foodItem,foodItem_2,_name,_surname,_email,_password,_hash,_nameCohousing,_street,_number,_city,_accessCode,laundryNum;cov_21rsn55688().s[10]++;describe('logic - retrieve-all-user-food-list',()=>{cov_21rsn55688().f[0]++;cov_21rsn55688().s[11]++;before(()=>{cov_21rsn55688().f[1]++;cov_21rsn55688().s[12]++;return mongoose.connect(MONGODB_URL);});cov_21rsn55688().s[13]++;beforeEach(async()=>{cov_21rsn55688().f[2]++;cov_21rsn55688().s[14]++;await User.deleteMany();cov_21rsn55688().s[15]++;await Cohousing.deleteMany();cov_21rsn55688().s[16]++;name=`name-${random()}`;cov_21rsn55688().s[17]++;surname=`surname-${random()}`;cov_21rsn55688().s[18]++;email=`e-${random()}@mail.com`;cov_21rsn55688().s[19]++;password=`password-${random()}`;cov_21rsn55688().s[20]++;_name=`name-${random()}`;cov_21rsn55688().s[21]++;_surname=`surname-${random()}`;cov_21rsn55688().s[22]++;_email=`e-${random()}@mail.com`;cov_21rsn55688().s[23]++;_password=`password-${random()}`;cov_21rsn55688().s[24]++;nameCohousing=`name-${random()}`;cov_21rsn55688().s[25]++;street=`street-${random()}`;cov_21rsn55688().s[26]++;number=random();cov_21rsn55688().s[27]++;city=`city-${random()}`;cov_21rsn55688().s[28]++;accessCode=randomAccessCode(name);cov_21rsn55688().s[29]++;laundryNum=4;cov_21rsn55688().s[30]++;_nameCohousing=`name-${random()}`;cov_21rsn55688().s[31]++;_street=`street-${random()}`;cov_21rsn55688().s[32]++;_number=random();cov_21rsn55688().s[33]++;_city=`city-${random()}`;cov_21rsn55688().s[34]++;_accessCode=randomAccessCode(name);cov_21rsn55688().s[35]++;foodItem=`fruit-${random()}`;cov_21rsn55688().s[36]++;foodItem_2=`fruit-${random()}`;cov_21rsn55688().s[37]++;hash=await bcrypt.hash(password,10);cov_21rsn55688().s[38]++;_hash=await bcrypt.hash(password,10);const user=(cov_21rsn55688().s[39]++,await User.create({name,surname,email,password:hash}));cov_21rsn55688().s[40]++;userId=user.id;let address=(cov_21rsn55688().s[41]++,{street,number,city});const cohousing=(cov_21rsn55688().s[42]++,await Cohousing.create({name:nameCohousing,address,author:userId,accessCode,members:[userId],laundryNum}));cov_21rsn55688().s[43]++;cohousing.foodList.push({name:foodItem,weight:2});cov_21rsn55688().s[44]++;cohousing.foodList.push({name:foodItem_2,weight:1});cov_21rsn55688().s[45]++;await cohousing.save();});cov_21rsn55688().s[46]++;describe('when cohousing have a list',()=>{cov_21rsn55688().f[3]++;cov_21rsn55688().s[47]++;it('should show user list food',async()=>{cov_21rsn55688().f[4]++;const list=(cov_21rsn55688().s[48]++,await retrieveAllUserFoodList(userId));cov_21rsn55688().s[49]++;expect(list.foodList).to.exist;cov_21rsn55688().s[50]++;expect(list.foodList[0].name).to.equal(foodItem);cov_21rsn55688().s[51]++;expect(list.foodList[0].weight).to.equal(2);cov_21rsn55688().s[52]++;expect(list.foodList[1].name).to.equal(foodItem_2);cov_21rsn55688().s[53]++;expect(list.foodList[1].weight).to.equal(1);});});cov_21rsn55688().s[54]++;describe('when cohousing has not a list',()=>{cov_21rsn55688().f[5]++;let _user,_userId;let address=(cov_21rsn55688().s[55]++,{_street,_number,_city});cov_21rsn55688().s[56]++;beforeEach(async()=>{cov_21rsn55688().f[6]++;cov_21rsn55688().s[57]++;_user=await User.create({name:_name,surname:_surname,email:_email,password:_hash});cov_21rsn55688().s[58]++;_userId=_user.id;cov_21rsn55688().s[59]++;await Cohousing.create({name:_nameCohousing,address,author:_userId,accessCode:_accessCode,members:[_userId],laundryNum:4});});cov_21rsn55688().s[60]++;it('should not show nothing',async()=>{cov_21rsn55688().f[7]++;cov_21rsn55688().s[61]++;try{cov_21rsn55688().s[62]++;await retrieveAllUserFoodList(_userId);}catch(error){cov_21rsn55688().s[63]++;expect(error).to.exist;cov_21rsn55688().s[64]++;expect(error.message).to.equal(`no list yet`);}});});cov_21rsn55688().s[65]++;describe('sync errors',()=>{cov_21rsn55688().f[8]++;cov_21rsn55688().s[66]++;it('on wrong type of data',()=>{cov_21rsn55688().f[9]++;cov_21rsn55688().s[67]++;expect(()=>{cov_21rsn55688().f[10]++;cov_21rsn55688().s[68]++;return retrieveAllUserFoodList('');}).to.throw(VoidError,'string is empty or blank');cov_21rsn55688().s[69]++;expect(()=>{cov_21rsn55688().f[11]++;cov_21rsn55688().s[70]++;return retrieveAllUserFoodList(2);}).to.throw(TypeError,'2 is not a string');});});cov_21rsn55688().s[71]++;afterEach(()=>{cov_21rsn55688().f[12]++;cov_21rsn55688().s[72]++;return User.deleteMany();});cov_21rsn55688().s[73]++;after(mongoose.disconnect);});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLWFsbC11c2Vycy1mb29kLmxpc3Quc3BlYy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZW52IiwiVEVTVF9NT05HT0RCX1VSTCIsIk1PTkdPREJfVVJMIiwicHJvY2VzcyIsImV4cGVjdCIsInJhbmRvbSIsIk1hdGgiLCJyZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCIsImJjcnlwdCIsInV0aWxzIiwicmFuZG9tQWNjZXNzQ29kZSIsIm1vbmdvb3NlIiwiZXJyb3JzIiwiVm9pZEVycm9yIiwibW9kZWxzIiwiVXNlciIsIkNvaG91c2luZyIsIk9iamVjdElkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaGFzaCIsInVzZXJJZCIsIm5hbWVDb2hvdXNpbmciLCJzdHJlZXQiLCJudW1iZXIiLCJjaXR5IiwiYWNjZXNzQ29kZSIsImZvb2RJdGVtIiwiZm9vZEl0ZW1fMiIsIl9uYW1lIiwiX3N1cm5hbWUiLCJfZW1haWwiLCJfcGFzc3dvcmQiLCJfaGFzaCIsIl9uYW1lQ29ob3VzaW5nIiwiX3N0cmVldCIsIl9udW1iZXIiLCJfY2l0eSIsIl9hY2Nlc3NDb2RlIiwibGF1bmRyeU51bSIsImRlc2NyaWJlIiwiYmVmb3JlIiwiY29ubmVjdCIsImJlZm9yZUVhY2giLCJkZWxldGVNYW55IiwidXNlciIsImNyZWF0ZSIsImlkIiwiYWRkcmVzcyIsImNvaG91c2luZyIsImF1dGhvciIsIm1lbWJlcnMiLCJmb29kTGlzdCIsInB1c2giLCJ3ZWlnaHQiLCJzYXZlIiwiaXQiLCJsaXN0IiwidG8iLCJleGlzdCIsImVxdWFsIiwiX3VzZXIiLCJfdXNlcklkIiwiZXJyb3IiLCJtZXNzYWdlIiwidGhyb3ciLCJUeXBlRXJyb3IiLCJhZnRlckVhY2giLCJhZnRlciIsImRpc2Nvbm5lY3QiXSwibWFwcGluZ3MiOiI0eU9BZVk7bUhBZlpBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBRUEsS0FBTSxDQUFFQyxH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QWNMLEVBQWQsQ0FBaUJDLEtBQWpCLENBRFkseUJBRVp6RCxNQUFNLENBQUM2RCxLQUFLLENBQUNDLE9BQVAsQ0FBTixDQUFzQk4sRUFBdEIsQ0FBeUJFLEtBQXpCLENBQWdDLGFBQWhDLEVBQ0gsQ0FDSixDQVRDLENBQUYsQ0FVSCxDQWxCTyxDQUFSLENBaEVrRCx5QkFxRmxEcEIsUUFBUSxDQUFDLGFBQUQsQ0FBZ0IsSUFBTSxrREFFMUJnQixFQUFFLENBQUMsdUJBQUQsQ0FBMEIsSUFBTSxrREFFOUJ0RCxNQUFNLENBQUMsSUFBTSx5REFBQUcsQ0FBQUEsdUJBQXVCLENBQUMsRUFBRCxDQUF2QixDQUEyQixDQUFsQyxDQUFOLENBQTBDcUQsRUFBMUMsQ0FBNkNPLEtBQTdDLENBQW1EdEQsU0FBbkQsQ0FBOEQsMEJBQTlELEVBRjhCLHlCQUc5QlQsTUFBTSxDQUFDLElBQU0seURBQUFHLENBQUFBLHVCQUF1QixDQUFDLENBQUQsQ0FBdkIsQ0FBMEIsQ0FBakMsQ0FBTixDQUF5Q3FELEVBQXpDLENBQTRDTyxLQUE1QyxDQUFrREMsU0FBbEQsQ0FBNkQsbUJBQTdELEVBQ0gsQ0FKQyxDQUFGLENBS0gsQ0FQTyxDQUFSLENBckZrRCx5QkErRmxEQyxTQUFTLENBQUMsSUFBTSx5REFBQXRELENBQUFBLElBQUksQ0FBQytCLFVBQUwsR0FBaUIsQ0FBeEIsQ0FBVCxDQS9Ga0QseUJBaUdsRHdCLEtBQUssQ0FBQzNELFFBQVEsQ0FBQzRELFVBQVYsQ0FBTCxDQUVILENBbkdPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxuXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMOiBNT05HT0RCX1VSTCB9IH0gPSBwcm9jZXNzXG5cbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJylcbmNvbnN0IHsgcmFuZG9tIH0gPSBNYXRoXG5jb25zdCByZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCA9IHJlcXVpcmUoJy4vcmV0cmlldmUtYWxsVXNlcnMtZm9vZC1saXN0JylcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcbmNvbnN0IHsgdXRpbHM6IHsgcmFuZG9tQWNjZXNzQ29kZSB9IH0gPSByZXF1aXJlKCdjb29oYXBweS1jb21tb25zJylcbmNvbnN0IHsgbW9uZ29vc2UgfSA9IHJlcXVpcmUoJ2Nvb2hhcHB5LWRhdGEnKVxuY29uc3QgeyBlcnJvcnM6IHsgVm9pZEVycm9yIH0gfSA9IHJlcXVpcmUoJ2Nvb2hhcHB5LWNvbW1vbnMnKVxuY29uc3QgeyBtb2RlbHM6IHsgVXNlciwgQ29ob3VzaW5nIH0sIG1vbmdvb3NlOiB7IE9iamVjdElkIH0gfSA9IHJlcXVpcmUoJ2Nvb2hhcHB5LWRhdGEnKVxuXG5sZXQgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBoYXNoLCB1c2VySWQsIG5hbWVDb2hvdXNpbmcsIHN0cmVldCwgbnVtYmVyLCBjaXR5LCBhY2Nlc3NDb2RlLFxuZm9vZEl0ZW0sIGZvb2RJdGVtXzIsIF9uYW1lLCBfc3VybmFtZSwgX2VtYWlsLCBfcGFzc3dvcmQsIF9oYXNoLCBfbmFtZUNvaG91c2luZywgX3N0cmVldCwgX251bWJlciwgX2NpdHksIF9hY2Nlc3NDb2RlLCBsYXVuZHJ5TnVtXG5cbmRlc2NyaWJlKCdsb2dpYyAtIHJldHJpZXZlLWFsbC11c2VyLWZvb2QtbGlzdCcsICgpID0+IHtcblxuICAgIGJlZm9yZSgoKSA9PiBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJMKSlcblxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuXG4gICAgICAgIGF3YWl0IFVzZXIuZGVsZXRlTWFueSgpXG4gICAgICAgIGF3YWl0IENvaG91c2luZy5kZWxldGVNYW55KClcblxuICAgICAgICBuYW1lID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIHN1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZW1haWwgPSBgZS0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXG5cbiAgICAgICAgX25hbWUgPSBgbmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgX3N1cm5hbWUgPSBgc3VybmFtZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgX2VtYWlsID0gYGUtJHtyYW5kb20oKX1AbWFpbC5jb21gXG4gICAgICAgIF9wYXNzd29yZCA9IGBwYXNzd29yZC0ke3JhbmRvbSgpfWBcblxuICAgICAgICBuYW1lQ29ob3VzaW5nID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIHN0cmVldCA9IGBzdHJlZXQtJHtyYW5kb20oKX1gXG4gICAgICAgIG51bWJlciA9IHJhbmRvbSgpXG4gICAgICAgIGNpdHkgPSBgY2l0eS0ke3JhbmRvbSgpfWBcbiAgICAgICAgYWNjZXNzQ29kZSA9IHJhbmRvbUFjY2Vzc0NvZGUobmFtZSlcbiAgICAgICAgbGF1bmRyeU51bSA9IDRcbiAgICAgICAgXG4gICAgICAgIF9uYW1lQ29ob3VzaW5nID0gYG5hbWUtJHtyYW5kb20oKX1gXG4gICAgICAgIF9zdHJlZXQgPSBgc3RyZWV0LSR7cmFuZG9tKCl9YFxuICAgICAgICBfbnVtYmVyID0gcmFuZG9tKClcbiAgICAgICAgX2NpdHkgPSBgY2l0eS0ke3JhbmRvbSgpfWBcbiAgICAgICAgX2FjY2Vzc0NvZGUgPSByYW5kb21BY2Nlc3NDb2RlKG5hbWUpXG5cbiAgICAgICAgZm9vZEl0ZW0gPSBgZnJ1aXQtJHtyYW5kb20oKX1gXG4gICAgICAgIGZvb2RJdGVtXzIgPSBgZnJ1aXQtJHtyYW5kb20oKX1gXG5cblxuICAgICAgICBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKVxuICAgICAgICBfaGFzaCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMClcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHsgbmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkOiBoYXNoIH0pXG4gICAgICAgIHVzZXJJZCA9IHVzZXIuaWRcbiAgICAgICAgbGV0IGFkZHJlc3MgPSB7IHN0cmVldCwgbnVtYmVyLCBjaXR5IH1cbiAgICAgICAgY29uc3QgY29ob3VzaW5nID0gYXdhaXQgQ29ob3VzaW5nLmNyZWF0ZSh7IG5hbWU6IG5hbWVDb2hvdXNpbmcsIGFkZHJlc3MsIGF1dGhvcjogdXNlcklkLCBhY2Nlc3NDb2RlLCBtZW1iZXJzOiBbdXNlcklkXSwgbGF1bmRyeU51bSB9KVxuXG4gICAgICAgIGNvaG91c2luZy5mb29kTGlzdC5wdXNoKHsgbmFtZTogZm9vZEl0ZW0sIHdlaWdodDogMiB9KVxuICAgICAgICBjb2hvdXNpbmcuZm9vZExpc3QucHVzaCh7IG5hbWU6IGZvb2RJdGVtXzIsIHdlaWdodDogMSB9KVxuICAgICAgICBhd2FpdCBjb2hvdXNpbmcuc2F2ZSgpXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIGNvaG91c2luZyBoYXZlIGEgbGlzdCcsICgpID0+IHtcblxuICAgICAgICBpdCgnc2hvdWxkIHNob3cgdXNlciBsaXN0IGZvb2QnLCBhc3luYyAoKSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBhd2FpdCByZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCh1c2VySWQpXG5cbiAgICAgICAgICAgIGV4cGVjdChsaXN0LmZvb2RMaXN0KS50by5leGlzdFxuICAgICAgICAgICAgZXhwZWN0KGxpc3QuZm9vZExpc3RbMF0ubmFtZSkudG8uZXF1YWwoZm9vZEl0ZW0pXG4gICAgICAgICAgICBleHBlY3QobGlzdC5mb29kTGlzdFswXS53ZWlnaHQpLnRvLmVxdWFsKDIpXG5cbiAgICAgICAgICAgIGV4cGVjdChsaXN0LmZvb2RMaXN0WzFdLm5hbWUpLnRvLmVxdWFsKGZvb2RJdGVtXzIpXG4gICAgICAgICAgICBleHBlY3QobGlzdC5mb29kTGlzdFsxXS53ZWlnaHQpLnRvLmVxdWFsKDEpXG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgZGVzY3JpYmUoJ3doZW4gY29ob3VzaW5nIGhhcyBub3QgYSBsaXN0JywgKCkgPT4ge1xuICAgICAgICBsZXQgX3VzZXIsIF91c2VySWRcbiAgICAgICAgbGV0IGFkZHJlc3MgPSB7IF9zdHJlZXQsIF9udW1iZXIsIF9jaXR5IH1cbiAgICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBfdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtuYW1lOiBfbmFtZSxzdXJuYW1lOiAgX3N1cm5hbWUsIGVtYWlsOiBfZW1haWwsIHBhc3N3b3JkOiBfaGFzaCB9KVxuICAgICAgICAgICAgX3VzZXJJZCA9IF91c2VyLmlkXG4gICAgICAgICAgICBhd2FpdCBDb2hvdXNpbmcuY3JlYXRlKHsgbmFtZTogX25hbWVDb2hvdXNpbmcsIGFkZHJlc3MsIGF1dGhvcjogX3VzZXJJZCwgYWNjZXNzQ29kZTogX2FjY2Vzc0NvZGUsIG1lbWJlcnM6IFtfdXNlcklkXSwgbGF1bmRyeU51bTogNCB9KVxuICAgICAgICB9KVxuICAgICAgICBpdCgnc2hvdWxkIG5vdCBzaG93IG5vdGhpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmV0cmlldmVBbGxVc2VyRm9vZExpc3QoX3VzZXJJZClcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxdWFsKGBubyBsaXN0IHlldGApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuXG4gICAgZGVzY3JpYmUoJ3N5bmMgZXJyb3JzJywgKCkgPT4ge1xuXG4gICAgICAgIGl0KCdvbiB3cm9uZyB0eXBlIG9mIGRhdGEnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiByZXRyaWV2ZUFsbFVzZXJGb29kTGlzdCgnJykpLnRvLnRocm93KFZvaWRFcnJvciwgJ3N0cmluZyBpcyBlbXB0eSBvciBibGFuaycpXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gcmV0cmlldmVBbGxVc2VyRm9vZExpc3QoMikpLnRvLnRocm93KFR5cGVFcnJvciwgJzIgaXMgbm90IGEgc3RyaW5nJylcbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICBhZnRlckVhY2goKCkgPT4gVXNlci5kZWxldGVNYW55KCkpXG5cbiAgICBhZnRlcihtb25nb29zZS5kaXNjb25uZWN0KVxuXG59KSJdfQ==